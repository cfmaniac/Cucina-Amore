require.config({
    config: {
        'jsbuild':{"mage/backend/suggest.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true*/\n(function (root, factory) {\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'mage/template',\n            'mage/mage',\n            'jquery/ui',\n            'mage/backend/menu',\n            'mage/translate'\n        ], factory);\n    } else {\n        factory(root.jQuery, root.mageTemplate);\n    }\n}(this, function ($, mageTemplate) {\n    'use strict';\n\n    /**\n     * Implement base functionality\n     */\n    $.widget('mage.suggest', {\n        widgetEventPrefix: 'suggest',\n        options: {\n            template: '<% if (data.items.length) { %><% if (!data.term && !data.allShown() && data.recentShown()) { %>' +\n                '<h5 class=\"title\"><%- data.recentTitle %></h5>' +\n                '<% } %>' +\n                '<ul data-mage-init=\\'{\"menu\":[]}\\'>' +\n                '<% _.each(data.items, function(value){ %>' +\n                '<% if (!data.itemSelected(value)) { %><li <%= data.optionData(value) %>>' +\n                '<a href=\"#\"><%- value.label %></a></li><% } %>' +\n                '<% }); %>' +\n                '<% if (!data.term && !data.allShown() && data.recentShown()) { %>' +\n                '<li data-mage-init=\\'{\"actionLink\":{\"event\":\"showAll\"}}\\' class=\"show-all\">' +\n                '<a href=\"#\"><%- data.showAllTitle %></a></li>' +\n                '<% } %>' +\n                '</ul><% } else { %><span class=\"mage-suggest-no-records\"><%- data.noRecordsText %></span><% } %>',\n            minLength: 1,\n            /**\n             * @type {(String|Array)}\n             */\n            source: null,\n            delay: 500,\n            loadingClass: 'mage-suggest-state-loading',\n            events: {},\n            appendMethod: 'after',\n            controls: {\n                selector: ':ui-menu, :mage-menu',\n                eventsMap: {\n                    focus: ['menufocus'],\n                    blur: ['menublur'],\n                    select: ['menuselect']\n                }\n            },\n            termAjaxArgument: 'label_part',\n            filterProperty: 'label',\n            className: null,\n            inputWrapper: '<div class=\"mage-suggest\"><div class=\"mage-suggest-inner\"></div></div>',\n            dropdownWrapper: '<div class=\"mage-suggest-dropdown\"></div>',\n            preventClickPropagation: true,\n            currentlySelected: null\n        },\n\n        /**\n         * Component's constructor\n         * @private\n         */\n        _create: function () {\n            this._term = null;\n            this._nonSelectedItem = {\n                id: '',\n                label: ''\n            };\n            \n            this.templates = {};\n\n            this._renderedContext = null;\n            this._selectedItem = this._nonSelectedItem;\n            this._control = this.options.controls || {};\n            this._setTemplate();\n            this._prepareValueField();\n            this._render();\n            this._bind();\n        },\n\n        /**\n         * Render base elements for suggest component\n         * @private\n         */\n        _render: function () {\n            this.dropdown = $(this.options.dropdownWrapper).hide();\n            var wrapper = this.options.className ?\n                $(this.options.inputWrapper).addClass(this.options.className) :\n                $(this.options.inputWrapper);\n            this.element\n                .wrap(wrapper)[this.options.appendMethod](this.dropdown)\n                .attr('autocomplete', 'off');\n        },\n\n        /**\n         * Define a field for storing item id (find in DOM or create a new one)\n         * @private\n         */\n        _prepareValueField: function () {\n            if (this.options.valueField) {\n                this.valueField = $(this.options.valueField);\n            } else {\n                this.valueField = this._createValueField()\n                    .insertBefore(this.element)\n                    .attr('name', this.element.attr('name'));\n                this.element.removeAttr('name');\n            }\n        },\n\n        /**\n         * Create value field which keeps a id for selected option\n         * can be overridden in descendants\n         * @return {jQuery}\n         * @private\n         */\n        _createValueField: function () {\n            return $('<input/>', {\n                type: 'hidden'\n            });\n        },\n\n        /**\n         * Component's destructor\n         * @private\n         */\n        _destroy: function () {\n            this.element\n                .unwrap()\n                .removeAttr('autocomplete');\n\n            if (!this.options.valueField) {\n                this.element.attr('name', this.valueField.attr('name'));\n                this.valueField.remove();\n            }\n\n            this.dropdown.remove();\n            this._off(this.element, 'keydown keyup blur');\n        },\n\n        /**\n         * Return actual value of an \"input\"-element\n         * @return {String}\n         * @private\n         */\n        _value: function () {\n            return $.trim(this.element[this.element.is(':input') ? 'val' : 'text']());\n        },\n\n        /**\n         * Pass original event to a control component for handling it as it's own event\n         * @param {Object} event - event object\n         * @private\n         */\n        _proxyEvents: function (event) {\n            var fakeEvent = $.extend({}, $.Event(event.type), {\n                    ctrlKey: event.ctrlKey,\n                    keyCode: event.keyCode,\n                    which: event.keyCode\n                }),\n                target = this._control.selector ? this.dropdown.find(this._control.selector) : this.dropdown;\n            target.trigger(fakeEvent);\n        },\n\n        /**\n         * Bind handlers on specific events\n         * @private\n         */\n        _bind: function () {\n            this._on($.extend({\n                keydown: function (event) {\n                    var keyCode = $.ui.keyCode,\n                        suggestList,\n                        hasSuggestedItems,\n                        hasSelectedItems,\n                        selectedItem;\n\n                    switch (event.keyCode) {\n                        case keyCode.PAGE_UP:\n                        case keyCode.UP:\n                            if (!event.shiftKey) {\n                                event.preventDefault();\n                                this._proxyEvents(event);\n                            }\n\n                            suggestList = event.currentTarget.parentNode.getElementsByTagName('ul')[0];\n                            hasSuggestedItems = event.currentTarget.parentNode.getElementsByTagName('ul')[0].children.length >= 0;\n                            if (hasSuggestedItems) {\n                                selectedItem =  $(suggestList.getElementsByClassName('_active')[0]).removeClass('_active').prev().addClass('_active');\n                                event.currentTarget.value = selectedItem.find(\"a\").text();\n                            }\n\n                            break;\n                        case keyCode.PAGE_DOWN:\n                        case keyCode.DOWN:\n                            if (!event.shiftKey) {\n                                event.preventDefault();\n                                this._proxyEvents(event);\n                            }\n\n                            suggestList = event.currentTarget.parentNode.getElementsByTagName('ul')[0];\n                            hasSuggestedItems = event.currentTarget.parentNode.getElementsByTagName('ul')[0].children.length >= 0;\n                            if(hasSuggestedItems){\n                                hasSelectedItems = suggestList.getElementsByClassName('_active').length === 0;\n                                if(hasSelectedItems) {\n                                    selectedItem = $(suggestList.children[0]).addClass('_active');\n                                    event.currentTarget.value = selectedItem.find(\"a\").text();\n                                }else {\n                                    selectedItem = $(suggestList.getElementsByClassName('_active')[0]).removeClass('_active').next().addClass('_active');\n                                    event.currentTarget.value = selectedItem.find(\"a\").text();\n                                }\n                            }\n                            break;\n                        case keyCode.TAB:\n                            if (this.isDropdownShown()) {\n                                this._onSelectItem(event, null);\n                                event.preventDefault();\n                            }\n                            break;\n                        case keyCode.ENTER:\n                        case keyCode.NUMPAD_ENTER:\n\n                            if (this.isDropdownShown() && this._focused) {\n                                this._proxyEvents(event);\n                                event.preventDefault();\n                            }\n                            break;\n                        case keyCode.ESCAPE:\n                            if (this.isDropdownShown()) {\n                                event.stopPropagation();\n                            }\n                            this.close(event);\n                            this._blurItem();\n                            break;\n                    }\n                },\n                keyup: function (event) {\n                    var keyCode = $.ui.keyCode;\n                    switch (event.keyCode) {\n                        case keyCode.HOME:\n                        case keyCode.END:\n                        case keyCode.PAGE_UP:\n                        case keyCode.PAGE_DOWN:\n                        case keyCode.ESCAPE:\n                        case keyCode.UP:\n                        case keyCode.DOWN:\n                        case keyCode.LEFT:\n                        case keyCode.RIGHT:\n                        case keyCode.TAB:\n                            break;\n                        case keyCode.ENTER:\n                        case keyCode.NUMPAD_ENTER:\n                            if (this.isDropdownShown()) {\n                                event.preventDefault();\n                            }\n                            break;\n                        default:\n                            this.search(event);\n                    }\n                },\n                blur: function (event) {\n                    if (!this.preventBlur) {\n                        this._abortSearch();\n                        this.close(event);\n                        this._change(event);\n                    } else {\n                        this.element.trigger('focus');\n                    }\n                },\n                cut: this.search,\n                paste: this.search,\n                input: this.search,\n                selectItem: this._onSelectItem,\n                click: this.search\n            }, this.options.events));\n\n            this._bindDropdown();\n        },\n\n        /**\n         * @param {Object} e - event object\n         * @private\n         */\n        _change: function (e) {\n            if (this._term !== this._value()) {\n                this._trigger('change', e);\n            }\n        },\n\n        /**\n         * Bind handlers for dropdown element on specific events\n         * @private\n         */\n        _bindDropdown: function () {\n            var events = {\n                click: function (e) {\n                    // prevent default browser's behavior of changing location by anchor href\n                    e.preventDefault();\n                },\n                mousedown: function (e) {\n                    e.preventDefault();\n                }\n            };\n            $.each(this._control.eventsMap, $.proxy(function (suggestEvent, controlEvents) {\n                $.each(controlEvents, $.proxy(function (i, handlerName) {\n                    switch (suggestEvent) {\n                    case 'select':\n                        events[handlerName] = this._onSelectItem;\n                        break;\n                    case 'focus':\n                        events[handlerName] = this._focusItem;\n                        break;\n                    case 'blur':\n                        events[handlerName] = this._blurItem;\n                        break;\n                    }\n                }, this));\n            }, this));\n\n            if (this.options.preventClickPropagation) {\n                this._on(this.dropdown, events);\n            }\n            // Fix for IE 8\n            this._on(this.dropdown, {\n                mousedown: function () {\n                    this.preventBlur = true;\n                },\n                mouseup: function () {\n                    this.preventBlur = false;\n                }\n            });\n        },\n\n        /**\n         * @override\n         */\n        _trigger: function (type, event) {\n            var result = this._superApply(arguments);\n\n            if (result === false && event) {\n                event.stopImmediatePropagation();\n                event.preventDefault();\n            }\n\n            return result;\n        },\n\n        /**\n         * Handle focus event of options item\n         * @param {Object} e - event object\n         * @param {Object} ui - object that can contain information about focused item\n         * @private\n         */\n        _focusItem: function (e, ui) {\n            if (ui && ui.item) {\n                this._focused = $(ui.item).prop('tagName') ?\n                    this._readItemData(ui.item) :\n                    ui.item;\n\n                this.element.val(this._focused.label);\n                this._trigger('focus', e, {\n                    item: this._focused\n                });\n            }\n        },\n\n        /**\n         * Handle blur event of options item\n         * @private\n         */\n        _blurItem: function () {\n            this._focused = null;\n            this.element.val(this._term);\n        },\n\n        /**\n         * @param {Object} e - event object\n         * @param {Object} item\n         * @private\n         */\n        _onSelectItem: function (e, item) {\n            if (item && $.type(item) === 'object' && $(e.target).is(this.element)) {\n                this._focusItem(e, {\n                    item: item\n                });\n            }\n\n            if (this._trigger('beforeselect', e || null, {\n                item: this._focused\n            }) === false) {\n                return;\n            }\n            this._selectItem(e);\n            this._blurItem();\n            this._trigger('select', e || null, {\n                item: this._selectedItem\n            });\n        },\n\n        /**\n         * Save selected item and hide dropdown\n         * @private\n         * @param {Object} e - event object\n         */\n        _selectItem: function (e) {\n            if (this._focused) {\n                this._selectedItem = this._focused;\n\n                if (this._selectedItem !== this._nonSelectedItem) {\n                    this._term = this._selectedItem.label;\n                    this.valueField.val(this._selectedItem.id);\n                    this.close(e);\n                }\n            }\n        },\n\n        /**\n         * Read option data from item element\n         * @param {Element} element\n         * @return {Object}\n         * @private\n         */\n        _readItemData: function (element) {\n            return element.data('suggestOption') || this._nonSelectedItem;\n        },\n\n        /**\n         * Check if dropdown is shown\n         * @return {Boolean}\n         */\n        isDropdownShown: function () {\n            return this.dropdown.is(':visible');\n        },\n\n        /**\n         * Open dropdown\n         * @private\n         * @param {Object} e - event object\n         */\n        open: function (e) {\n            if (!this.isDropdownShown()) {\n                this.element.addClass('_suggest-dropdown-open');\n                this.dropdown.show();\n                this._trigger('open', e);\n            }\n        },\n\n        /**\n         * Close and clear dropdown content\n         * @private\n         * @param {Object} e - event object\n         */\n        close: function (e) {\n            this._renderedContext = null;\n\n            if (this.dropdown.length) {\n                this.element.removeClass('_suggest-dropdown-open');\n                this.dropdown.hide().empty();\n            }\n\n            this._trigger('close', e);\n        },\n\n        /**\n         * Acquire content template\n         * @private\n         */\n        _setTemplate: function () {\n            this.templateName = 'suggest' + Math.random().toString(36).substr(2);\n\n            this.templates[this.templateName] = mageTemplate(this.options.template);\n        },\n\n        /**\n         * Execute search process\n         * @public\n         * @param {Object} e - event object\n         */\n        search: function (e) {\n            var term = this._value();\n\n            if ((this._term !== term || term.length === 0) && !this.preventBlur) {\n                this._term = term;\n\n                if ($.type(term) === 'string' && term.length >= this.options.minLength) {\n                    if (this._trigger('search', e) === false) {\n                        return;\n                    }\n                    this._search(e, term, {});\n                } else {\n                    this._selectedItem = this._nonSelectedItem;\n                    this._resetSuggestValue();\n                }\n            }\n        },\n\n        /*\n         * Clear suggest hidden input\n         * @private\n         */\n        _resetSuggestValue: function () {\n            this.valueField.val(this._nonSelectedItem.id);\n        },\n\n        /**\n         * Actual search method, can be overridden in descendants\n         * @param {Object} e - event object\n         * @param {String} term - search phrase\n         * @param {Object} context - search context\n         * @private\n         */\n        _search: function (e, term, context) {\n            var response = $.proxy(function (items) {\n                return this._processResponse(e, items, context || {});\n            }, this);\n            this.element.addClass(this.options.loadingClass);\n\n            if (this.options.delay) {\n                if ($.type(this.options.data) !== 'undefined') {\n                    response(this.filter(this.options.data, term));\n                }\n                clearTimeout(this._searchTimeout);\n                this._searchTimeout = this._delay(function () {\n                    this._source(term, response);\n                }, this.options.delay);\n            } else {\n                this._source(term, response);\n            }\n        },\n\n        /**\n         * Extend basic context with additional data (search results, search term)\n         * @param {Object} context\n         * @return {Object}\n         * @private\n         */\n        _prepareDropdownContext: function (context) {\n            return $.extend(context, {\n                items: this._items,\n                term: this._term,\n                optionData: function (item) {\n                    return 'data-suggest-option=\"' +\n                        $('<div>').text(JSON.stringify(item)).html().replace(/\"/g, '&quot;') + '\"';\n                },\n                itemSelected: $.proxy(this._isItemSelected, this),\n                noRecordsText: $.mage.__('No records found.')\n            });\n        },\n\n        /**\n         * @param item\n         * @return {Boolean}\n         * @private\n         */\n        _isItemSelected: function (item) {\n            return item.id == (this._selectedItem && this._selectedItem.id ?\n                this._selectedItem.id :\n                this.options.currentlySelected);\n        },\n\n        /**\n         * Render content of suggest's dropdown\n         * @param {Object} e - event object\n         * @param {Array} items - list of label+id objects\n         * @param {Object} context - template's context\n         * @private\n         */\n        _renderDropdown: function (e, items, context) {\n            var tmpl = this.templates[this.templateName];\n\n            this._items = items;\n\n            tmpl = tmpl({\n                data: this._prepareDropdownContext(context)\n            });\n\n            $(tmpl).appendTo(this.dropdown.empty());\n\n            this.dropdown.trigger('contentUpdated')\n                .find(this._control.selector).on('focus', function (e) {\n                    e.preventDefault();\n                });\n\n            this._renderedContext = context;\n            this.element.removeClass(this.options.loadingClass);\n            this.open(e);\n        },\n\n        /**\n         * @param {Object} e\n         * @param {Object} items\n         * @param {Object} context\n         * @private\n         */\n        _processResponse: function (e, items, context) {\n            var renderer = $.proxy(function (items) {\n                return this._renderDropdown(e, items, context || {});\n            }, this);\n\n            if (this._trigger('response', e, [items, renderer]) === false) {\n                return;\n            }\n            this._renderDropdown(e, items, context);\n        },\n\n        /**\n         * Implement search process via spesific source\n         * @param {String} term - search phrase\n         * @param {Function} response - search results handler, process search result\n         * @private\n         */\n        _source: function (term, response) {\n            var o = this.options;\n\n            if ($.isArray(o.source)) {\n                response(this.filter(o.source, term));\n            } else if ($.type(o.source) === 'string') {\n                if (this._xhr) {\n                    this._xhr.abort();\n                }\n                var ajaxData = {};\n                ajaxData[this.options.termAjaxArgument] = term;\n\n                this._xhr = $.ajax($.extend(true, {\n                    url: o.source,\n                    type: 'POST',\n                    dataType: 'json',\n                    data: ajaxData,\n                    success: $.proxy(function (items) {\n                        this.options.data = items;\n                        response.apply(response, arguments);\n                    }, this)\n                }, o.ajaxOptions || {}));\n            } else if ($.type(o.source) === 'function') {\n                o.source.apply(o.source, arguments);\n            }\n        },\n\n        /**\n         * Abort search process\n         * @private\n         */\n        _abortSearch: function () {\n            this.element.removeClass(this.options.loadingClass);\n            clearTimeout(this._searchTimeout);\n\n            if (this._xhr) {\n                this._xhr.abort();\n            }\n        },\n\n        /**\n         * Perform filtering in advance loaded items and returns search result\n         * @param {Array} items - all available items\n         * @param {String} term - search phrase\n         * @return {Object}\n         */\n        filter: function (items, term) {\n            var matcher = new RegExp(term.replace(/[\\-\\/\\\\\\^$*+?.()|\\[\\]{}]/g, '\\\\$&'), 'i');\n            var itemsArray = $.isArray(items) ? items : $.map(items, function (element) {\n                return element;\n            });\n            var property = this.options.filterProperty;\n\n            return $.grep(\n                itemsArray,\n                function (value) {\n                    return matcher.test(value[property] || value.id || value);\n                }\n            );\n        }\n    });\n\n    /**\n     * Implement show all functionality and storing and display recent searches\n     */\n    $.widget('mage.suggest', $.mage.suggest, {\n        options: {\n            showRecent: false,\n            showAll: false,\n            storageKey: 'suggest',\n            storageLimit: 10\n        },\n\n        /**\n         * @override\n         */\n        _create: function () {\n            if (this.options.showRecent && window.localStorage) {\n                var recentItems = JSON.parse(localStorage.getItem(this.options.storageKey));\n                /**\n                 * @type {Array} - list of recently searched items\n                 * @private\n                 */\n                this._recentItems = $.isArray(recentItems) ? recentItems : [];\n            }\n            this._super();\n        },\n\n        /**\n         * @override\n         */\n        _bind: function () {\n            this._super();\n            this._on(this.dropdown, {\n                showAll: function (e) {\n                    e.stopImmediatePropagation();\n                    e.preventDefault();\n                    this.element.trigger('showAll');\n                }\n            });\n\n            if (this.options.showRecent || this.options.showAll) {\n                this._on({\n                    focus: function (e) {\n                        if (!this.isDropdownShown()) {\n                            this.search(e);\n                        }\n                    },\n                    showAll: this._showAll\n                });\n            }\n        },\n\n        /**\n         * @private\n         * @param {Object} e - event object\n         */\n        _showAll: function (e) {\n            this._abortSearch();\n            this._search(e, '', {\n                _allShown: true\n            });\n        },\n\n        /**\n         * @override\n         */\n        search: function (e) {\n            if (!this._value()) {\n\n                if (this.options.showRecent) {\n\n                    if (this._recentItems.length) {\n                        this._processResponse(e, this._recentItems, {});\n                    } else {\n                        this._showAll(e);\n                    }\n                } else if (this.options.showAll) {\n                    this._showAll(e);\n                }\n            }\n            this._superApply(arguments);\n        },\n\n        /**\n         * @override\n         */\n        _selectItem: function () {\n            this._superApply(arguments);\n\n            if (this._selectedItem && this._selectedItem.id && this.options.showRecent) {\n                this._addRecent(this._selectedItem);\n            }\n        },\n\n        /**\n         * @override\n         */\n        _prepareDropdownContext: function () {\n            var context = this._superApply(arguments);\n\n            return $.extend(context, {\n                recentShown: $.proxy(function () {\n                    return this.options.showRecent;\n                }, this),\n                recentTitle: $.mage.__('Recent items'),\n                showAllTitle: $.mage.__('Show all...'),\n                allShown: function () {\n                    return !!context._allShown;\n                }\n            });\n        },\n\n        /**\n         * Add selected item of search result into storage of recents\n         * @param {Object} item - label+id object\n         * @private\n         */\n        _addRecent: function (item) {\n            this._recentItems = $.grep(this._recentItems, function (obj) {\n                return obj.id !== item.id;\n            });\n            this._recentItems.unshift(item);\n            this._recentItems = this._recentItems.slice(0, this.options.storageLimit);\n            localStorage.setItem(this.options.storageKey, JSON.stringify(this._recentItems));\n        }\n    });\n\n    /**\n     * Implement multi suggest functionality\n     */\n    $.widget('mage.suggest', $.mage.suggest, {\n        options: {\n            multiSuggestWrapper: '<ul class=\"mage-suggest-choices\">' +\n                '<li class=\"mage-suggest-search-field\" data-role=\"parent-choice-element\"><label class=\"mage-suggest-search-label\"></label></li></ul>',\n            choiceTemplate: '<li class=\"mage-suggest-choice button\"><div><%- text %></div>' +\n                '<span class=\"mage-suggest-choice-close\" tabindex=\"-1\" ' +\n                'data-mage-init=\\'{\"actionLink\":{\"event\":\"removeOption\"}}\\'></span></li>',\n            selectedClass: 'mage-suggest-selected'\n        },\n\n        /**\n         * @override\n         */\n        _create: function () {\n            this.choiceTmpl = mageTemplate(this.options.choiceTemplate);\n\n            this._super();\n\n            if (this.options.multiselect) {\n                this.valueField.hide();\n            }\n        },\n\n        /**\n         * @override\n         */\n        _render: function () {\n            this._super();\n\n            if (this.options.multiselect) {\n                this._renderMultiselect();\n            }\n        },\n\n        /**\n         * Render selected options\n         * @private\n         */\n        _renderMultiselect: function () {\n            var that = this;\n            this.element.wrap(this.options.multiSuggestWrapper);\n            this.elementWrapper = this.element.closest('[data-role=\"parent-choice-element\"]');\n            $(function () {\n                that._getOptions()\n                    .each(function (i, option) {\n                        option = $(option);\n                        that._createOption({\n                            id: option.val(),\n                            label: option.text()\n                        });\n                    });\n            });\n        },\n\n        /**\n         * @return {Array} array of DOM-elements\n         * @private\n         */\n        _getOptions: function () {\n            return this.valueField.find('option');\n        },\n\n        /**\n         * @override\n         */\n        _bind: function () {\n            this._super();\n\n            if (this.options.multiselect) {\n                this._on({\n                    keydown: function (event) {\n                        if (event.keyCode === $.ui.keyCode.BACKSPACE) {\n                            if (!this._value()) {\n                                this._removeLastAdded(event);\n                            }\n                        }\n                    },\n                    removeOption: this.removeOption\n                });\n            }\n        },\n\n        /**\n         * @param {Array} items\n         * @param {Object} context\n         * @return {Array}\n         * @private\n         */\n        _filterSelected: function (items) {\n            var options = this._getOptions();\n\n            return $.grep(items, function (value) {\n                var itemSelected = false;\n                $.each(options, function () {\n                    if (value.id == $(this).val()) {\n                        itemSelected = true;\n                    }\n                });\n\n                return !itemSelected;\n            });\n        },\n\n        /**\n         * @override\n         */\n        _processResponse: function (e, items, context) {\n            if (this.options.multiselect) {\n                items = this._filterSelected(items, context);\n            }\n            this._superApply([e, items, context]);\n        },\n\n        /**\n         * @override\n         */\n        _prepareValueField: function () {\n            this._super();\n\n            if (this.options.multiselect && !this.options.valueField && this.options.selectedItems) {\n                $.each(this.options.selectedItems, $.proxy(function (i, item) {\n                    this._addOption(item);\n                }, this));\n            }\n        },\n\n        /**\n         * If \"multiselect\" option is set, then do not need to clear value for hidden select, to avoid losing of\n         *      previously selected items\n         * @override\n         */\n        _resetSuggestValue: function () {\n            if (!this.options.multiselect) {\n                this._super();\n            }\n        },\n\n        /**\n         * @override\n         */\n        _createValueField: function () {\n            if (this.options.multiselect) {\n                return $('<select/>', {\n                    type: 'hidden',\n                    multiple: 'multiple'\n                });\n            } else {\n                return this._super();\n            }\n        },\n\n        /**\n         * @override\n         */\n        _selectItem: function (e) {\n            if (this.options.multiselect) {\n                if (this._focused) {\n                    this._selectedItem = this._focused;\n\n                    if (this._selectedItem !== this._nonSelectedItem) {\n                        this._term = '';\n                        this.element.val(this._term);\n\n                        if (this._isItemSelected(this._selectedItem)) {\n                            $(e.target).removeClass(this.options.selectedClass);\n                            this.removeOption(e, this._selectedItem);\n                            this._selectedItem = this._nonSelectedItem;\n                        } else {\n                            $(e.target).addClass(this.options.selectedClass);\n                            this._addOption(e, this._selectedItem);\n                        }\n                    }\n                }\n                this.close(e);\n            } else {\n                this._superApply(arguments);\n            }\n        },\n\n        /**\n         * @override\n         */\n        _isItemSelected: function (item) {\n            if (this.options.multiselect) {\n                return this.valueField.find('option[value=' + item.id + ']').length > 0;\n            } else {\n                return this._superApply(arguments);\n            }\n        },\n\n        /**\n         *\n         * @param {Object} item\n         * @return {Element}\n         * @private\n         */\n        _createOption: function (item) {\n            var option = this._getOption(item);\n\n            if (!option.length) {\n                option = $('<option>', {\n                    value: item.id,\n                    selected: true\n                }).text(item.label);\n            }\n\n            return option.data('renderedOption', this._renderOption(item));\n        },\n\n        /**\n         * Add selected item in to select options\n         * @param {Object} e - event object\n         * @param item\n         * @private\n         */\n        _addOption: function (e, item) {\n            this.valueField.append(this._createOption(item).data('selectTarget', $(e.target)));\n        },\n\n        /**\n         * @param {Object|Element} item\n         * @return {Element}\n         * @private\n         */\n        _getOption: function (item) {\n            return $(item).prop('tagName') ?\n                $(item) :\n                this.valueField.find('option[value=' + item.id + ']');\n        },\n\n        /**\n         * Remove last added option\n         * @private\n         * @param {Object} e - event object\n         */\n        _removeLastAdded: function (e) {\n            var lastAdded = this._getOptions().last();\n\n            if (lastAdded.length) {\n                this.removeOption(e, lastAdded);\n            }\n        },\n\n        /**\n         * Remove item from select options\n         * @param {Object} e - event object\n         * @param {Object} item\n         * @private\n         */\n        removeOption: function (e, item) {\n            var option = this._getOption(item);\n            var selectTarget = option.data('selectTarget');\n\n            if (selectTarget && selectTarget.length) {\n                selectTarget.removeClass(this.options.selectedClass);\n            }\n\n            option.data('renderedOption').remove();\n            option.remove();\n        },\n\n        /**\n         * Render visual element of selected item\n         * @param {Object} item - selected item\n         * @private\n         */\n        _renderOption: function (item) {\n            var tmpl = this.choiceTmpl({\n                text: item.label\n            });\n\n            return $(tmpl)\n                .insertBefore(this.elementWrapper)\n                .trigger('contentUpdated')\n                .on('removeOption', $.proxy(function (e) {\n                    this.removeOption(e, item);\n                }, this));\n        }\n    });\n\n    return $.mage.suggest;\n}));\n","mage/adminhtml/form.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    \"jquery\",\n    \"prototype\",\n    \"mage/adminhtml/events\"\n], function(jQuery){\n/*\n * @TODO Need to be removed after refactoring all dependent of the form the components\n */\n(function($) {\n    $(document).ready(function() {\n        $(document).on(\"beforeSubmit\", function(e) {\n            if (typeof varienGlobalEvents !== 'undefined') {\n                varienGlobalEvents.fireEvent(\"formSubmit\", $(e.target).attr('id'));\n            }\n        });\n    });\n})(jQuery);\n\n\n/**\n *  Additional elements methods\n */\nvar varienElementMethods = {\n    setHasChanges : function(element, event){\n        if($(element) && $(element).hasClassName('no-changes')) return;\n        var elm = element;\n        while(elm && elm.tagName != 'BODY') {\n            if(elm.statusBar)\n                Element.addClassName($(elm.statusBar), 'changed')\n            elm = elm.parentNode;\n        }\n    },\n    setHasError : function(element, flag, form){\n        var elm = element;\n        while(elm && elm.tagName != 'BODY') {\n            if(elm.statusBar){\n                if(form.errorSections.keys().indexOf(elm.statusBar.id)<0)\n                    form.errorSections.set(elm.statusBar.id, flag);\n                if(flag){\n                    Element.addClassName($(elm.statusBar), 'error');\n                    if(form.canShowError && $(elm.statusBar).show){\n                        form.canShowError = false;\n                        $(elm.statusBar).show();\n                    }\n                    form.errorSections.set(elm.statusBar.id, flag);\n                }\n                else if(!form.errorSections.get(elm.statusBar.id)){\n                    Element.removeClassName($(elm.statusBar), 'error')\n                }\n            }\n            elm = elm.parentNode;\n        }\n        this.canShowElement = false;\n    }\n}\n\nElement.addMethods(varienElementMethods);\n\n// Global bind changes\nvarienWindowOnloadCache = {};\nfunction varienWindowOnload(useCache){\n    var dataElements = $$('input', 'select', 'textarea');\n    for(var i=0; i<dataElements.length;i++){\n        if(dataElements[i] && dataElements[i].id){\n            if ((!useCache) || (!varienWindowOnloadCache[dataElements[i].id])) {\n                Event.observe(dataElements[i], 'change', dataElements[i].setHasChanges.bind(dataElements[i]));\n                if (useCache) {\n                    varienWindowOnloadCache[dataElements[i].id] = true;\n                }\n            }\n        }\n    }\n}\nEvent.observe(window, 'load', varienWindowOnload);\n\nRegionUpdater = Class.create();\nRegionUpdater.prototype = {\n    initialize: function (countryEl, regionTextEl, regionSelectEl, regions, disableAction, clearRegionValueOnDisable)\n    {\n        this.isRegionRequired = true;\n        this.countryEl = $(countryEl);\n        this.regionTextEl = $(regionTextEl);\n        this.regionSelectEl = $(regionSelectEl);\n        this.config = regions['config'];\n        delete regions.config;\n        this.regions = regions;\n        this.disableAction = (typeof disableAction=='undefined') ? 'hide' : disableAction;\n        this.clearRegionValueOnDisable = (typeof clearRegionValueOnDisable == 'undefined') ? false : clearRegionValueOnDisable;\n\n        if (this.regionSelectEl.options.length<=1) {\n            this.update();\n        }\n        else {\n            this.lastCountryId = this.countryEl.value;\n        }\n\n        this.countryEl.changeUpdater = this.update.bind(this);\n\n        Event.observe(this.countryEl, 'change', this.update.bind(this));\n    },\n\n    _checkRegionRequired: function()\n    {\n        if (!this.isRegionRequired) {\n            return;\n        }\n\n        var label, wildCard;\n        var elements = [this.regionTextEl, this.regionSelectEl];\n        var that = this;\n        if (typeof this.config == 'undefined') {\n            return;\n        }\n        var regionRequired = this.config.regions_required.indexOf(this.countryEl.value) >= 0;\n\n        elements.each(function(currentElement) {\n            if(!currentElement) {\n                return;\n            }\n            var form = currentElement.form,\n                validationInstance = form ? jQuery(form).data('validation') : null,\n                field = currentElement.up('.field') || new Element('div');\n\n            if (validationInstance) {\n                validationInstance.clearError(currentElement);\n            }\n            label = $$('label[for=\"' + currentElement.id + '\"]')[0];\n            if (label) {\n                wildCard = label.down('em') || label.down('span.required');\n                var topElement = label.up('tr') || label.up('li');\n                if (!that.config.show_all_regions && topElement) {\n                    if (regionRequired) {\n                        topElement.show();\n                    } else {\n                        topElement.hide();\n                    }\n                }\n            }\n\n            if (label && wildCard) {\n                if (!regionRequired) {\n                    wildCard.hide();\n                } else {\n                    wildCard.show();\n                }\n            }\n\n            //compute the need for the required fields\n            if (!regionRequired || !currentElement.visible()) {\n                if (field.hasClassName('required')) {\n                    field.removeClassName('required');\n                }\n                if (currentElement.hasClassName('required-entry')) {\n                    currentElement.removeClassName('required-entry');\n                }\n                if ('select' == currentElement.tagName.toLowerCase() &&\n                    currentElement.hasClassName('validate-select')\n                ) {\n                    currentElement.removeClassName('validate-select');\n                }\n            } else {\n                if (!field.hasClassName('required')) {\n                    field.addClassName('required');\n                }\n                if (!currentElement.hasClassName('required-entry')) {\n                    currentElement.addClassName('required-entry');\n                }\n                if ('select' == currentElement.tagName.toLowerCase() &&\n                    !currentElement.hasClassName('validate-select')\n                ) {\n                    currentElement.addClassName('validate-select');\n                }\n            }\n        });\n    },\n\n    disableRegionValidation: function()\n    {\n        this.isRegionRequired = false;\n    },\n\n    update: function()\n    {\n        if (this.regions[this.countryEl.value]) {\n\n            if (this.lastCountryId!=this.countryEl.value) {\n                var i, option, region, def;\n\n                def = this.regionSelectEl.getAttribute('defaultValue');\n                if (this.regionTextEl) {\n                    if (!def) {\n                        def = this.regionTextEl.value.toLowerCase();\n                    }\n                    this.regionTextEl.value = '';\n                }\n\n                this.regionSelectEl.options.length = 1;\n                for (regionId in this.regions[this.countryEl.value]) {\n                    region = this.regions[this.countryEl.value][regionId];\n\n                    option = document.createElement('OPTION');\n                    option.value = regionId;\n                    option.text = region.name.stripTags();\n                    option.title = region.name;\n\n                    if (this.regionSelectEl.options.add) {\n                        this.regionSelectEl.options.add(option);\n                    } else {\n                        this.regionSelectEl.appendChild(option);\n                    }\n\n                    if (regionId==def || region.name.toLowerCase()==def || region.code.toLowerCase()==def) {\n                        this.regionSelectEl.value = regionId;\n                    }\n                }\n            }\n\n            if (this.disableAction=='hide') {\n                if (this.regionTextEl) {\n                    this.regionTextEl.style.display = 'none';\n                    this.regionTextEl.style.disabled = true;\n                }\n                this.regionSelectEl.style.display = '';\n                this.regionSelectEl.disabled = false;\n            } else if (this.disableAction=='disable') {\n                if (this.regionTextEl) {\n                    this.regionTextEl.disabled = true;\n                }\n                this.regionSelectEl.disabled = false;\n            }\n            this.setMarkDisplay(this.regionSelectEl, true);\n\n            this.lastCountryId = this.countryEl.value;\n        } else {\n            if (this.disableAction=='hide') {\n                if (this.regionTextEl) {\n                    this.regionTextEl.style.display = '';\n                    this.regionTextEl.style.disabled = false;\n                }\n                this.regionSelectEl.style.display = 'none';\n                this.regionSelectEl.disabled = true;\n            } else if (this.disableAction=='disable') {\n                if (this.regionTextEl) {\n                    this.regionTextEl.disabled = false;\n                }\n                this.regionSelectEl.disabled = true;\n                if (this.clearRegionValueOnDisable) {\n                    this.regionSelectEl.value = '';\n                }\n            } else if (this.disableAction=='nullify') {\n                this.regionSelectEl.options.length = 1;\n                this.regionSelectEl.value = '';\n                this.regionSelectEl.selectedIndex = 0;\n                this.lastCountryId = '';\n            }\n            this.setMarkDisplay(this.regionSelectEl, false);\n\n//            // clone required stuff from select element and then remove it\n//            this._regionSelectEl.className = this.regionSelectEl.className;\n//            this._regionSelectEl.name      = this.regionSelectEl.name;\n//            this._regionSelectEl.id        = this.regionSelectEl.id;\n//            this._regionSelectEl.innerHTML = this.regionSelectEl.innerHTML;\n//            Element.remove(this.regionSelectEl);\n//            this.regionSelectEl = null;\n        }\n        varienGlobalEvents.fireEvent(\"address_country_changed\", this.countryEl);\n        this._checkRegionRequired();\n    },\n\n    setMarkDisplay: function(elem, display){\n        if(elem.parentNode.parentNode){\n            var marks = Element.select(elem.parentNode.parentNode, '.required');\n            if(marks[0]){\n                display ? marks[0].show() : marks[0].hide();\n            }\n        }\n    }\n};\n\nregionUpdater = RegionUpdater;\n\n/**\n * Fix errorrs in IE\n */\nEvent.pointerX = function(event){\n    try{\n        return event.pageX || (event.clientX +(document.documentElement.scrollLeft || document.body.scrollLeft));\n    }\n    catch(e){\n\n    }\n}\nEvent.pointerY = function(event){\n    try{\n        return event.pageY || (event.clientY +(document.documentElement.scrollTop || document.body.scrollTop));\n    }\n    catch(e){\n\n    }\n}\n\n/**\n * Observer that watches for dependent form elements\n * If an element depends on 1 or more of other elements, it should show up only when all of them gain specified values\n */\nFormElementDependenceController = Class.create();\nFormElementDependenceController.prototype = {\n    /**\n     * Structure of elements: {\n     *     'id_of_dependent_element' : {\n     *         'id_of_master_element_1' : 'reference_value',\n     *         'id_of_master_element_2' : 'reference_value'\n     *         'id_of_master_element_3' : ['reference_value1', 'reference_value2']\n     *         ...\n     *     }\n     * }\n     * @param object elementsMap\n     * @param object config\n     */\n    initialize : function (elementsMap, config)\n    {\n        if (config) {\n            this._config = config;\n        }\n        for (var idTo in elementsMap) {\n            for (var idFrom in elementsMap[idTo]) {\n                if ($(idFrom)) {\n                    Event.observe($(idFrom), 'change', this.trackChange.bindAsEventListener(this, idTo, elementsMap[idTo]));\n                    this.trackChange(null, idTo, elementsMap[idTo]);\n                } else {\n                    this.trackChange(null, idTo, elementsMap[idTo]);\n                }\n            }\n        }\n    },\n\n    /**\n     * Misc. config options\n     * Keys are underscored intentionally\n     */\n    _config : {\n        levels_up : 1 // how many levels up to travel when toggling element\n    },\n\n    /**\n     * Define whether target element should be toggled and show/hide its row\n     *\n     * @param object e - event\n     * @param string idTo - id of target element\n     * @param valuesFrom - ids of master elements and reference values\n     * @return\n     */\n    trackChange : function(e, idTo, valuesFrom)\n    {\n        // define whether the target should show up\n        var shouldShowUp = true;\n        for (var idFrom in valuesFrom) {\n            var from = $(idFrom);\n            if (from) {\n                var values = valuesFrom[idFrom]['values'];\n                var isInArray = values.indexOf(from.value) != -1;\n                var isNegative = valuesFrom[idFrom]['negative'];\n                if (!from || isInArray && isNegative || !isInArray && !isNegative) {\n                    shouldShowUp = false;\n                }\n            }\n        }\n\n        // toggle target row\n        var headElement = $(idTo + '-head'),\n            isInheritCheckboxChecked = $(idTo + '_inherit') && $(idTo + '_inherit').checked,\n            target = $(idTo);\n\n        // Target won't always exist (for example, if field type is \"label\")\n        if (target) {\n            var inputs = target.up(this._config.levels_up).select('input', 'select', 'td'),\n                isAnInputOrSelect = ['input', 'select'].indexOf(target.tagName.toLowerCase()) != -1;\n        } else {\n            var inputs = false,\n                isAnInputOrSelect = false;\n        }\n        if (shouldShowUp) {\n            var currentConfig = this._config;\n            if (inputs) {\n                inputs.each(function (item) {\n                    // don't touch hidden inputs (and Use Default inputs too), bc they may have custom logic\n                    if ((!item.type || item.type != 'hidden') && !($(item.id+'_inherit') && $(item.id+'_inherit').checked)\n                        && !(currentConfig.can_edit_price != undefined && !currentConfig.can_edit_price)) {\n                        item.disabled = false;\n                        jQuery(item).removeClass('ignore-validate');\n                    }\n                });\n            }\n            if (headElement) {\n                headElement.show();\n                if (headElement.hasClassName('open') && target) {\n                    target.show();\n                } else if (target) {\n                    target.hide();\n                }\n            } else {\n                if (target) {\n                    target.show();\n                }\n                if (isAnInputOrSelect && !isInheritCheckboxChecked) {\n                    if (target) {\n                        target.disabled = false;\n                    }\n                    jQuery('#' + idTo).removeClass('ignore-validate');\n                }\n            }\n        } else {\n            if (inputs) {\n                inputs.each(function (item){\n                    // don't touch hidden inputs (and Use Default inputs too), bc they may have custom logic\n                    if ((!item.type || item.type != 'hidden') && !($(item.id+'_inherit') && $(item.id+'_inherit').checked)) {\n                        item.disabled = true;\n                        jQuery(item).addClass('ignore-validate');\n                    }\n                });\n            }\n            if (headElement) {\n                headElement.hide();\n            }\n            if (target) {\n                target.hide();\n            }\n            if (isAnInputOrSelect && !isInheritCheckboxChecked) {\n                if (target) {\n                    target.disabled = true;\n                }\n                jQuery('#' + idTo).addClass('ignore-validate');\n            }\n\n        }\n        var rowElement = $('row_' + idTo);\n        if (rowElement == undefined && target) {\n            rowElement = target.up(this._config.levels_up);\n        }\n        if (rowElement) {\n            if (shouldShowUp) {\n                rowElement.show();\n            } else {\n                rowElement.hide();\n            }\n        }\n    }\n};\n\n\n    window.varienWindowOnload = varienWindowOnload;\n    window.varienElementMethods = varienElementMethods;\n});\n","mage/adminhtml/browser.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n/*jshint browser:true jquery:true*/\ndefine([\n    \"jquery\",\n    \"tinymce\",\n    \"Magento_Ui/js/modal/prompt\",\n    \"Magento_Ui/js/modal/confirm\",\n    \"Magento_Ui/js/modal/alert\",\n    \"Magento_Ui/js/modal/modal\",\n    \"jquery/ui\",\n    \"jquery/jstree/jquery.jstree\",\n    \"mage/mage\"\n], function($, tinyMCEm, prompt, confirm, alert){\n    \n    MediabrowserUtility = {\n        windowId: 'modal_dialog_message',\n        getMaxZIndex: function() {\n            var max = 0, i;\n            var cn = document.body.childNodes;\n            for (i = 0; i < cn.length; i++) {\n                var el = cn[i];\n                var zIndex = el.nodeType == 1 ? parseInt(el.style.zIndex, 10) || 0 : 0;\n                if (zIndex < 10000) {\n                    max = Math.max(max, zIndex);\n                }\n            }\n            return max + 10;\n        },\n        openDialog: function(url, width, height, title, options) {\n            var windowId = this.windowId,\n                content = '<div class=\"popup-window magento-message\" \"id=\"' + windowId + '\"></div>',\n                self = this;\n\n            if (this.modal) {\n                this.modal.html($(content).html());\n                this.modal.modal('option', 'closed', options.closed);\n            } else {\n                this.modal = $(content).modal($.extend({\n                    title:  title || 'Insert File...',\n                    modalClass: 'magento',\n                    type: 'slide',\n                    buttons: []\n                }, options));\n            }\n            this.modal.modal('openModal');\n            $.ajax({\n                url: url,\n                type: 'get',\n                context: $(this),\n                showLoader: true\n\n            }).done(function(data) {\n                self.modal.html(data).trigger('contentUpdated');\n            });\n        },\n        closeDialog: function() {\n            this.modal.modal('closeModal');\n        }\n    };\n\n    $.widget(\"mage.mediabrowser\", {\n        eventPrefix: \"mediabrowser\",\n        options: {\n            targetElementId: null,\n            contentsUrl: null,\n            onInsertUrl: null,\n            newFolderUrl: null,\n            deleteFolderUrl: null,\n            deleteFilesUrl: null,\n            headerText: null,\n            tree: null,\n            currentNode: null,\n            storeId: null,\n            showBreadcrumbs: null,\n            hidden: 'no-display'\n        },\n        /**\n         * Proxy creation\n         * @protected\n         */\n        _create: function() {\n            this._on({\n                'click [data-row=file]': 'selectFile',\n                'dblclick [data-row=file]': 'insert',\n                'click #new_folder': 'newFolder',\n                'click #delete_folder': 'deleteFolder',\n                'click #delete_files': 'deleteFiles',\n                'click #insert_files': 'insertSelectedFiles',\n                'fileuploaddone': '_uploadDone',\n                'click [data-row=breadcrumb]': 'selectFolder'\n            });\n            this.activeNode = null;\n            //tree dont use event bubbling\n            this.tree = this.element.find('[data-role=tree]');\n            this.tree.on(\"select_node.jstree\", $.proxy(this._selectNode, this));\n        },\n\n        _selectNode: function(event, data) {\n            var node = data.rslt.obj.data('node');\n            this.activeNode = node;\n            this.element.find('#delete_files, #insert_files').toggleClass(this.options.hidden, true);\n            this.element.find('#contents').toggleClass(this.options.hidden, false);\n            this.element.find('#delete_folder').toggleClass(this.options.hidden, node.id == 'root');\n            this.element.find('#content_header_text').html(node.id == 'root' ? this.headerText : node.text);\n\n            this.drawBreadcrumbs(data);\n            this.loadFileList(node);\n        },\n\n        reload : function() {\n            return this.loadFileList(this.activeNode);\n        },\n\n        insertAtCursor: function(element, value) {\n            if ('selection' in document) {\n                //For browsers like Internet Explorer\n                element.focus();\n                sel = document.selection.createRange();\n                sel.text = value;\n                element.focus();\n            } else if (element.selectionStart || element.selectionStart == '0') {\n                //For browsers like Firefox and Webkit based\n                var startPos = element.selectionStart;\n                var endPos = element.selectionEnd;\n                var scrollTop = element.scrollTop;\n                element.value = element.value.substring(0, startPos) + value + element.value.substring(startPos, endPos)\n                    + element.value.substring(endPos, element.value.length);\n                element.focus();\n                element.selectionStart = startPos + value.length;\n                element.selectionEnd = ((startPos + value.length) + element.value.substring(startPos, endPos).length);\n                element.scrollTop = scrollTop;\n            } else {\n                element.value += value;\n                element.focus();\n            }\n        },\n\n        loadFileList: function(node) {\n            var contentBlock = this.element.find('#contents');\n            return $.ajax({\n                url: this.options.contentsUrl,\n                type: 'GET',\n                dataType: 'html',\n                data: {\n                    form_key: FORM_KEY,\n                    node: node.id\n                },\n                context: contentBlock,\n                showLoader: true\n            }).done(function(data) {\n                contentBlock.html(data).trigger('contentUpdated');\n            });\n        },\n\n        selectFolder: function(event) {\n            this.element.find('[data-id=\"'+ $(event.currentTarget).data('node').id +'\"]>a').click();\n        },\n\n        insertSelectedFiles: function(event) {\n            this.element.find('[data-row=file].selected').trigger('dblclick');\n        },\n\n        selectFile: function(event) {\n            var fileRow = $(event.currentTarget);\n            fileRow.toggleClass('selected');\n            this.element.find('[data-row=file]').not(fileRow).removeClass('selected');\n            this.element.find('#delete_files, #insert_files')\n                .toggleClass(this.options.hidden, !fileRow.is('.selected'));\n            fileRow.trigger('selectfile');\n        },\n\n        _uploadDone: function(event) {\n            this.element.find('.file-row').remove();\n            this.reload();\n        },\n\n        insert: function(event) {\n            var fileRow = $(event.currentTarget);\n\n            if (!fileRow.prop('id')) {\n                return false;\n            }\n            var targetEl = this.getTargetElement();\n\n            if (!targetEl.length) {\n                MediabrowserUtility.closeDialog();\n                throw \"Target element not found for content update\";\n            }\n\n            return $.ajax({\n                url: this.options.onInsertUrl,\n                data: {\n                    filename: fileRow.attr('id'),\n                    node: this.activeNode.id,\n                    store: this.options.storeId,\n                    as_is: targetEl.is('textarea') ? 1 : 0,\n                    form_key: FORM_KEY\n                },\n                context: this,\n                showLoader: true\n            }).done($.proxy(function(data) {\n                if (targetEl.is('textarea')) {\n                    this.insertAtCursor(targetEl.get(0), data);\n                } else {\n                    targetEl.val(data).trigger('change');\n                }\n                MediabrowserUtility.closeDialog();\n                targetEl.focus();\n                jQuery(targetEl).change();\n            }, this));\n        },\n\n        /**\n         * Find document target element in next order:\n         *  in acive file browser opener:\n         *  - input field with ID: \"src\" in opener window\n         *  - input field with ID: \"href\" in opener window\n         *  in document:\n         *  - element with target ID\n         *\n         * return HTMLelement | null\n         */\n        getTargetElement: function() {\n            if (typeof(tinyMCE) != 'undefined' && tinyMCE.get(this.options.targetElementId)) {\n                var opener = this.getMediaBrowserOpener() || window;\n                var targetElementId = tinyMceEditors.get(this.options.targetElementId).getMediaBrowserTargetElementId();\n                return $(opener.document.getElementById(targetElementId));\n            } else {\n                return $('#' + this.options.targetElementId);\n            }\n        },\n\n        /**\n         * Return opener Window object if it exists, not closed and editor is active\n         *\n         * return object | null\n         */\n        getMediaBrowserOpener: function() {\n            if (typeof(tinyMCE) != 'undefined'\n                && tinyMCE.get(this.options.targetElementId)\n                && typeof(tinyMceEditors) != 'undefined'\n                && !tinyMceEditors.get(this.options.targetElementId).getMediaBrowserOpener().closed) {\n                return tinyMceEditors.get(this.options.targetElementId).getMediaBrowserOpener();\n            } else {\n                return null;\n            }\n        },\n\n        newFolder: function() {\n            var self = this;\n\n            prompt({\n                title: this.options.newFolderPrompt,\n                actions: {\n                    confirm: function (folderName) {\n                        return $.ajax({\n                            url: self.options.newFolderUrl,\n                            dataType: 'json',\n                            data: {\n                                name: folderName,\n                                node: self.activeNode.id,\n                                store: self.options.storeId,\n                                form_key: FORM_KEY\n                            },\n                            context: self.element,\n                            showLoader: true\n                        }).done($.proxy(function(data) {\n                            if (data.error) {\n                                alert({\n                                    content: data.message\n                                });\n                            } else {\n                                self.tree.jstree('refresh',  self.element.find('[data-id=\"' + self.activeNode.id + '\"]'));\n                            }\n                        }, this));\n                    }\n                }\n            });\n        },\n\n        deleteFolder: function() {\n            var self = this;\n\n            confirm({\n                content: this.options.deleteFolderConfirmationMessage,\n                actions: {\n                    confirm: function () {\n                        return $.ajax({\n                            url: self.options.deleteFolderUrl,\n                            dataType: 'json',\n                            data: {\n                                node: self.activeNode.id,\n                                store: self.options.storeId,\n                                form_key: FORM_KEY\n                            },\n                            context: self.element,\n                            showLoader: true\n                        }).done($.proxy(function(data) {\n                            self.tree.jstree('refresh', self.activeNode.id);\n                        }, this));\n                    },\n                    cancel: function () {\n                        return false;\n                    }\n                }\n            });\n        },\n\n        deleteFiles: function() {\n            var self = this;\n\n            confirm({\n                content: this.options.deleteFileConfirmationMessage,\n                actions: {\n                    confirm: function () {\n                        var selectedFiles = self.element.find('[data-row=file].selected');\n                        var ids = selectedFiles.map(function(index, file) {\n                            return $(this).attr('id');\n                        }).toArray();\n\n                        return $.ajax({\n                            url: self.options.deleteFilesUrl,\n                            data: {\n                                files: ids,\n                                store: self.options.storeId,\n                                form_key: FORM_KEY\n                            },\n                            context: self.element,\n                            showLoader: true\n                        }).done($.proxy(function(data) {\n                            self.reload();\n                        }, this));\n                    },\n                    cancel: function () {\n                        return false;\n                    }\n                }\n            });\n        },\n\n        drawBreadcrumbs: function(data) {\n            if (this.element.find('#breadcrumbs').length) {\n                this.element.find('#breadcrumbs').remove();\n            }\n            var node = data.rslt.obj.data('node');\n            if (node.id == 'root') {\n                return;\n            }\n            var breadcrumbs = $('<ul class=\"breadcrumbs\" id=\"breadcrumbs\" />');\n            $(data.rslt.obj.parents('[data-id]').get().reverse()).add(data.rslt.obj).each(function(index, element){\n                var node = $(element).data('node');\n                if (index > 0) {\n                    breadcrumbs.append($('<li>\\/</li>'));\n                }\n                breadcrumbs.append($('<li />').data('node', node).attr('data-row', 'breadcrumb').text(node.text));\n\n            });\n\n            breadcrumbs.insertAfter(this.element.find('#content_header'))\n        }\n    });\n});\n","mage/adminhtml/accordion.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'prototype'\n], function(){\n\n    varienAccordion = new Class.create();\n    varienAccordion.prototype = {\n        initialize : function(containerId, activeOnlyOne){\n            this.containerId = containerId;\n            this.activeOnlyOne = activeOnlyOne || false;\n            this.container   = $(this.containerId);\n            this.items       = $$('#'+this.containerId+' dt');\n            this.loader      = new varienLoader(true);\n\n            var links = $$('#'+this.containerId+' dt a');\n            for(var i in links){\n                if(links[i].href){\n                    Event.observe(links[i],'click',this.clickItem.bind(this));\n                    this.items[i].dd = this.items[i].next('dd');\n                    this.items[i].link = links[i];\n                }\n            }\n\n            this.initFromCookie();\n        },\n        initFromCookie : function () {\n            var activeItemId, visibility;\n            if (this.activeOnlyOne &&\n                (activeItemId = Cookie.read(this.cookiePrefix() + 'active-item')) !== null) {\n                this.hideAllItems();\n                this.showItem(this.getItemById(activeItemId));\n            } else if(!this.activeOnlyOne) {\n                this.items.each(function(item){\n                    if((visibility = Cookie.read(this.cookiePrefix() + item.id)) !== null) {\n                        if(visibility == 0) {\n                            this.hideItem(item);\n                        } else {\n                            this.showItem(item);\n                        }\n                    }\n                }.bind(this));\n            }\n        },\n        cookiePrefix: function () {\n            return 'accordion-' + this.containerId + '-';\n        },\n        getItemById : function (itemId) {\n            var result = null;\n\n            this.items.each(function(item){\n                if (item.id == itemId) {\n                    result = item;\n                    throw $break;\n                }\n            });\n\n            return result;\n        },\n        clickItem : function(event){\n            var item = Event.findElement(event, 'dt');\n            if(this.activeOnlyOne){\n                this.hideAllItems();\n                this.showItem(item);\n                Cookie.write(this.cookiePrefix() + 'active-item', item.id, 30*24*60*60);\n            }\n            else{\n                if(this.isItemVisible(item)){\n                    this.hideItem(item);\n                    Cookie.write(this.cookiePrefix() + item.id, 0, 30*24*60*60);\n                }\n                else {\n                    this.showItem(item);\n                    Cookie.write(this.cookiePrefix() + item.id, 1, 30*24*60*60);\n                }\n            }\n            Event.stop(event);\n        },\n        showItem : function(item){\n            if(item && item.link){\n                if(item.link.href){\n                    this.loadContent(item);\n                }\n\n                Element.addClassName(item, 'open');\n                Element.addClassName(item.dd, 'open');\n            }\n        },\n        hideItem : function(item){\n            Element.removeClassName(item, 'open');\n            Element.removeClassName(item.dd, 'open');\n        },\n        isItemVisible : function(item){\n            return Element.hasClassName(item, 'open');\n        },\n        loadContent : function(item){\n            if(item.link.href.indexOf('#') == item.link.href.length-1){\n                return;\n            }\n            if (Element.hasClassName(item.link, 'ajax')) {\n                this.loadingItem = item;\n                this.loader.load(item.link.href, {updaterId : this.loadingItem.dd.id}, this.setItemContent.bind(this));\n                return;\n            }\n            location.href = item.link.href;\n        },\n        setItemContent : function(content){\n            if (content.isJSON) {\n                return;\n            }\n            this.loadingItem.dd.innerHTML = content;\n        },\n        hideAllItems : function(){\n            for(var i in this.items){\n                if(this.items[i].id){\n                    Element.removeClassName(this.items[i], 'open');\n                    Element.removeClassName(this.items[i].dd, 'open');\n                }\n            }\n        }\n    };\n\n})\n","mage/adminhtml/grid.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n// also depends on a mage/adminhtml/tools.js for Base64 encoding\ndefine([\n    'jquery',\n    'mage/template',\n    'Magento_Ui/js/modal/alert',\n    'Magento_Ui/js/modal/confirm',\n    'mage/mage',\n    'prototype',\n    'mage/adminhtml/form',\n    'mage/adminhtml/events'\n], function (jQuery, mageTemplate, alert, confirm) {\n\nwindow.varienGrid = new Class.create();\n\nvarienGrid.prototype = {\n    initialize:function (containerId, url, pageVar, sortVar, dirVar, filterVar) {\n        this.containerId = containerId;\n        jQuery('#' + containerId).data('gridObject', this);\n        this.url = url;\n        this.pageVar = pageVar || false;\n        this.sortVar = sortVar || false;\n        this.dirVar = dirVar || false;\n        this.filterVar = filterVar || false;\n        this.tableSufix = '_table';\n        this.useAjax = false;\n        this.rowClickCallback = false;\n        this.checkboxCheckCallback = false;\n        this.preInitCallback = false;\n        this.initCallback = false;\n        this.initRowCallback = false;\n        this.doFilterCallback = false;\n        this.sortableUpdateCallback = false;\n\n        this.reloadParams = false;\n\n        this.trOnMouseOver = this.rowMouseOver.bindAsEventListener(this);\n        this.trOnMouseOut = this.rowMouseOut.bindAsEventListener(this);\n        this.trOnClick = this.rowMouseClick.bindAsEventListener(this);\n        this.trOnDblClick = this.rowMouseDblClick.bindAsEventListener(this);\n        this.trOnKeyPress = this.keyPress.bindAsEventListener(this);\n\n        this.thLinkOnClick = this.doSort.bindAsEventListener(this);\n        this.initGrid();\n    },\n    initGrid:function () {\n        if (this.preInitCallback) {\n            this.preInitCallback(this);\n        }\n        if ($(this.containerId + this.tableSufix)) {\n            this.rows = $$('#' + this.containerId + this.tableSufix + ' tbody tr');\n            for (var row = 0; row < this.rows.length; row++) {\n                if (row % 2 == 0) {\n                    Element.addClassName(this.rows[row], 'even');\n                }\n\n                Event.observe(this.rows[row], 'mouseover', this.trOnMouseOver);\n                Event.observe(this.rows[row], 'mouseout', this.trOnMouseOut);\n                Event.observe(this.rows[row], 'click', this.trOnClick);\n                Event.observe(this.rows[row], 'dblclick', this.trOnDblClick);\n            }\n        }\n        if (this.sortVar && this.dirVar) {\n            var columns = $$('#' + this.containerId + this.tableSufix + ' thead [data-sort]');\n\n            for (var col = 0; col < columns.length; col++) {\n                Event.observe(columns[col], 'click', this.thLinkOnClick);\n            }\n        }\n        this.bindFilterFields();\n        this.bindFieldsChange();\n        if (this.initCallback) {\n            try {\n                this.initCallback(this);\n            }\n            catch (e) {\n                if (window.console) {\n                    console.log(e);\n                }\n            }\n        }\n        jQuery('#' + this.containerId).trigger('gridinit', this)\n    },\n    initGridAjax:function () {\n        this.initGrid();\n        this.initGridRows();\n    },\n    initGridRows:function () {\n        if (this.initRowCallback) {\n            for (var row = 0; row < this.rows.length; row++) {\n                try {\n                    this.initRowCallback(this, this.rows[row]);\n                } catch (e) {\n                    if (window.console) {\n                        console.log(e);\n                    }\n                }\n            }\n        }\n    },\n    rowMouseOver:function (event) {\n        var element = Event.findElement(event, 'tr');\n\n        if (!element.title) return;\n\n        Element.addClassName(element, 'on-mouse');\n\n        if (!Element.hasClassName('_clickable')\n            && (this.rowClickCallback !== openGridRow || element.title)) {\n            if (element.title) {\n                Element.addClassName(element, '_clickable');\n            }\n        }\n    },\n    rowMouseOut:function (event) {\n        var element = Event.findElement(event, 'tr');\n        Element.removeClassName(element, 'on-mouse');\n    },\n    rowMouseClick:function (event) {\n        if (this.rowClickCallback) {\n            try {\n                this.rowClickCallback(this, event);\n            }\n            catch (e) {\n            }\n        }\n        varienGlobalEvents.fireEvent('gridRowClick', event);\n    },\n    rowMouseDblClick:function (event) {\n        varienGlobalEvents.fireEvent('gridRowDblClick', event);\n    },\n    keyPress:function (event) {\n\n    },\n    doSort:function (event) {\n        var element = Event.findElement(event, 'th');\n\n        if (element.readAttribute('data-sort') && element.readAttribute('data-direction')) {\n            this.addVarToUrl(this.sortVar, element.readAttribute('data-sort'));\n            this.addVarToUrl(this.dirVar, element.readAttribute('data-direction'));\n            this.reload(this.url);\n        }\n        Event.stop(event);\n        return false;\n    },\n    loadByElement:function (element) {\n        if (element && element.name) {\n            this.reload(this.addVarToUrl(element.name, element.value));\n        }\n    },\n\n    _onAjaxSeccess: function(data, textStatus, transport) {\n        try {\n            var responseText = transport.responseText;\n\n            if (transport.responseText.isJSON()) {\n                var response = transport.responseText.evalJSON()\n                if (response.error) {\n                    alert({\n                        content: response.message\n                    });\n                }\n                if (response.ajaxExpired && response.ajaxRedirect) {\n                    setLocation(response.ajaxRedirect);\n                }\n            } else {\n                /**\n                 * For IE <= 7.\n                 * If there are two elements, and first has name, that equals id of second.\n                 * In this case, IE will choose one that is above\n                 *\n                 * @see https://prototype.lighthouseapp.com/projects/8886/tickets/994-id-selector-finds-elements-by-name-attribute-in-ie7\n                 */\n                var divId = $(this.containerId);\n                if (divId.id == this.containerId) {\n                    divId.update(responseText);\n                } else {\n                    $$('div[id=\"' + this.containerId + '\"]')[0].update(responseText);\n                }\n            }\n        } catch (e) {\n            var divId = $(this.containerId);\n            if (divId.id == this.containerId) {\n                divId.update(responseText);\n            } else {\n                $$('div[id=\"' + this.containerId + '\"]')[0].update(responseText);\n            }\n        }\n        jQuery('#' + this.containerId).trigger('contentUpdated');\n    },\n\n    reload:function (url, onSuccessCallback) {\n        this.reloadParams = this.reloadParams || {};\n        this.reloadParams.form_key = FORM_KEY;\n        url = url || this.url;\n        if (this.useAjax) {\n            var ajaxSettings = {\n                url: url + (url.match(new RegExp('\\\\?')) ? '&ajax=true' : '?ajax=true' ),\n                showLoader: true,\n                method: 'post',\n                context: jQuery('#' + this.containerId),\n                data: this.reloadParams,\n                error: this._processFailure.bind(this),\n                complete: this.initGridAjax.bind(this),\n                dataType: 'html',\n                success: function(data, textStatus, transport) {\n                    this._onAjaxSeccess(data, textStatus, transport);\n                    if (onSuccessCallback && typeof(onSuccessCallback) === \"function\") {\n                        // execute the callback, passing parameters as necessary\n                        onSuccessCallback();\n                    }\n                }.bind(this)\n            };\n            jQuery('#' + this.containerId).trigger('gridajaxsettings', ajaxSettings);\n            var ajaxRequest = jQuery.ajax(ajaxSettings);\n            jQuery('#' + this.containerId).trigger('gridajax', ajaxRequest);\n            return ajaxRequest;\n        } else {\n            if (this.reloadParams) {\n                $H(this.reloadParams).each(function(pair) {\n                    url = this.addVarToUrl(pair.key, pair.value);\n                }.bind(this));\n            }\n            location.href = url;\n        }\n    },\n    /*_processComplete : function(transport){\n        console.log(transport);\n        if (transport && transport.responseText){\n            try{\n                response = eval('(' + transport.responseText + ')');\n            }\n            catch (e) {\n                response = {};\n            }\n        }\n        if (response.ajaxExpired && response.ajaxRedirect) {\n            location.href = response.ajaxRedirect;\n            return false;\n        }\n        this.initGrid();\n    },*/\n    _processFailure:function (transport) {\n        location.href = BASE_URL;\n    },\n    _addVarToUrl:function (url, varName, varValue) {\n        var re = new RegExp('\\/(' + varName + '\\/.*?\\/)');\n        var parts = url.split(new RegExp('\\\\?'));\n        url = parts[0].replace(re, '/');\n        url += varName + '/' + varValue + '/';\n        if (parts.size() > 1) {\n            url += '?' + parts[1];\n        }\n        return url;\n    },\n    addVarToUrl:function (varName, varValue) {\n        this.url = this._addVarToUrl(this.url, varName, varValue);\n        return this.url;\n    },\n    doExport : function(){\n        if($(this.containerId+'_export')){\n            var exportUrl = $(this.containerId+'_export').value;\n            if(this.massaction && this.massaction.checkedString) {\n                exportUrl = this._addVarToUrl(exportUrl, this.massaction.formFieldNameInternal, this.massaction.checkedString);\n            }\n            location.href = exportUrl;\n        }\n    },\n    bindFilterFields : function(){\n        var filters = $$('#'+this.containerId+' [data-role=\"filter-form\"] input', '#'+this.containerId+' [data-role=\"filter-form\"] select');\n        for (var i=0; i<filters.length; i++) {\n            Event.observe(filters[i],'keypress',this.filterKeyPress.bind(this));\n        }\n    },\n    bindFieldsChange : function(){\n        if (!$(this.containerId)) {\n            return;\n        }\n//        var dataElements = $(this.containerId+this.tableSufix).down('.data tbody').select('input', 'select');\n        var dataElements = $(this.containerId+this.tableSufix).down('tbody').select('input', 'select');\n        for(var i=0; i<dataElements.length;i++){\n            Event.observe(dataElements[i], 'change', dataElements[i].setHasChanges.bind(dataElements[i]));\n        }\n    },\n    bindSortable: function(){\n        if (jQuery('#' + this.containerId).find('.draggable-handle').length) {\n            jQuery('#' + this.containerId).find('tbody').sortable({\n                axis: 'y',\n                handle: '.draggable-handle',\n                helper: function(event, ui) {\n                    ui.children().each(function() {\n                        jQuery(this).width(jQuery(this).width());\n                    });\n                    return ui;\n                },\n                update: this.sortableUpdateCallback ? this.sortableUpdateCallback : function(){},\n                tolerance: 'pointer'\n            });\n        }\n    },\n    filterKeyPress:function (event) {\n        if (event.keyCode == Event.KEY_RETURN) {\n            this.doFilter();\n        }\n    },\n    doFilter:function (callback) {\n        var filters = $$('#' + this.containerId + ' [data-role=\"filter-form\"] input', '#' + this.containerId + ' [data-role=\"filter-form\"] select');\n        var elements = [];\n        for (var i in filters) {\n            if (filters[i].value && filters[i].value.length) elements.push(filters[i]);\n        }\n        if (!this.doFilterCallback || (this.doFilterCallback && this.doFilterCallback())) {\n            this.reload(this.addVarToUrl(this.filterVar, Base64.encode(Form.serializeElements(elements))), callback);\n        }\n    },\n    resetFilter:function (callback) {\n        this.reload(this.addVarToUrl(this.filterVar, ''), callback);\n    },\n    checkCheckboxes:function (element) {\n        elements = Element.select($(this.containerId), 'input[name=\"' + element.name + '\"]');\n        for (var i = 0; i < elements.length; i++) {\n            this.setCheckboxChecked(elements[i], element.checked);\n        }\n    },\n    setCheckboxChecked:function (element, checked) {\n        element.checked = checked;\n        jQuery(element).trigger('change');\n        element.setHasChanges({});\n        if (this.checkboxCheckCallback) {\n            this.checkboxCheckCallback(this, element, checked);\n        }\n    },\n    inputPage:function (event, maxNum) {\n        var element = Event.element(event);\n        var keyCode = event.keyCode || event.which;\n        if (keyCode == Event.KEY_RETURN) {\n            this.setPage(element.value);\n        }\n        /*if(keyCode>47 && keyCode<58){\n\n         }\n         else{\n         Event.stop(event);\n         }*/\n    },\n    setPage:function (pageNumber) {\n        this.reload(this.addVarToUrl(this.pageVar, pageNumber));\n    }\n};\n\nfunction openGridRow(grid, event){\n    var element = Event.findElement(event, 'tr');\n    if(['a', 'input', 'select', 'option'].indexOf(Event.element(event).tagName.toLowerCase())!=-1) {\n        return;\n    }\n\n    if(element.title){\n        setLocation(element.title);\n    }\n}\nwindow.openGridRow = openGridRow;\n\nwindow.varienGridMassaction = Class.create();\nvarienGridMassaction.prototype = {\n    /* Predefined vars */\n    checkedValues: $H({}),\n    checkedString: '',\n    oldCallbacks: {},\n    errorText:'',\n    items: {},\n    gridIds: [],\n    useSelectAll: false,\n    currentItem: false,\n    lastChecked: { left: false, top: false, checkbox: false },\n    fieldTemplate: mageTemplate('<input type=\"hidden\" name=\"<%- name %>\" value=\"<%- value %>\" />'),\n    initialize: function (containerId, grid, checkedValues, formFieldNameInternal, formFieldName) {\n        this.setOldCallback('row_click', grid.rowClickCallback);\n        this.setOldCallback('init',      grid.initCallback);\n        this.setOldCallback('init_row',  grid.initRowCallback);\n        this.setOldCallback('pre_init',  grid.preInitCallback);\n\n        this.useAjax        = false;\n        this.grid           = grid;\n        this.grid.massaction = this;\n        this.containerId    = containerId;\n        this.initMassactionElements();\n\n        this.checkedString          = checkedValues;\n        this.formFieldName          = formFieldName;\n        this.formFieldNameInternal  = formFieldNameInternal;\n\n        this.grid.initCallback      = this.onGridInit.bind(this);\n        this.grid.preInitCallback   = this.onGridPreInit.bind(this);\n        this.grid.initRowCallback   = this.onGridRowInit.bind(this);\n        this.grid.rowClickCallback  = this.onGridRowClick.bind(this);\n        this.initCheckboxes();\n        this.checkCheckboxes();\n    },\n    setUseAjax: function(flag) {\n        this.useAjax = flag;\n    },\n    setUseSelectAll: function(flag) {\n        this.useSelectAll = flag;\n    },\n    initMassactionElements: function() {\n        this.container      = $(this.containerId);\n        this.multiselect    = $(this.containerId + '-mass-select');\n        this.count          = $(this.containerId + '-count');\n        this.formHiddens    = $(this.containerId + '-form-hiddens');\n        this.formAdditional = $(this.containerId + '-form-additional');\n        this.select         = $(this.containerId + '-select');\n        this.form           = this.prepareForm();\n        jQuery(this.form).mage('validation');\n        this.select.observe('change', this.onSelectChange.bindAsEventListener(this));\n        this.lastChecked    = { left: false, top: false, checkbox: false };\n        this.select.addClassName(this.select.value ? '_selected' : '');\n        this.initMassSelect();\n    },\n    prepareForm: function() {\n        var form = $(this.containerId + '-form'), formPlace = null,\n            formElement = this.formHiddens || this.formAdditional;\n\n        if (!formElement) {\n            formElement = this.container.getElementsByTagName('button')[0];\n            formElement && formElement.parentNode;\n        }\n        if (!form && formElement) {\n            /* fix problem with rendering form in FF through innerHTML property */\n            form = document.createElement('form');\n            form.setAttribute('method', 'post');\n            form.setAttribute('action', '');\n            form.id = this.containerId + '-form';\n            formPlace = formElement.parentNode;\n            formPlace.parentNode.appendChild(form);\n            form.appendChild(formPlace);\n        }\n\n        return form;\n    },\n    setGridIds: function(gridIds) {\n        this.gridIds = gridIds;\n        this.updateCount();\n    },\n    getGridIds: function() {\n        return this.gridIds;\n    },\n    setItems: function(items) {\n        this.items = items;\n        this.updateCount();\n    },\n    getItems: function() {\n        return this.items;\n    },\n    getItem: function(itemId) {\n        if(this.items[itemId]) {\n            return this.items[itemId];\n        }\n        return false;\n    },\n    getOldCallback: function (callbackName) {\n        return this.oldCallbacks[callbackName] ? this.oldCallbacks[callbackName] : Prototype.emptyFunction;\n    },\n    setOldCallback: function (callbackName, callback) {\n        this.oldCallbacks[callbackName] = callback;\n    },\n    onGridPreInit: function(grid) {\n        this.initMassactionElements();\n        this.getOldCallback('pre_init')(grid);\n    },\n    onGridInit: function(grid) {\n        this.initCheckboxes();\n        this.checkCheckboxes();\n        this.updateCount();\n        this.getOldCallback('init')(grid);\n    },\n    onGridRowInit: function(grid, row) {\n        this.getOldCallback('init_row')(grid, row);\n    },\n    isDisabled: function (evt) {\n        var target = jQuery(evt.target),\n            tr,\n            checkbox;\n\n        tr = target.is('tr') ? target : target.closest('tr');\n        checkbox = tr.find('input[type=\"checkbox\"]');\n\n        return checkbox.is(':disabled');\n    },\n    onGridRowClick: function(grid, evt) {\n        var tdElement = Event.findElement(evt, 'td');\n        var trElement = Event.findElement(evt, 'tr');\n\n        if (this.isDisabled(evt)) {\n            return false;\n        }\n\n        if(!$(tdElement).down('input')) {\n            if($(tdElement).down('a') || $(tdElement).down('select')) {\n                return;\n            }\n            if (trElement.title && trElement.title.strip() != '#') {\n                this.getOldCallback('row_click')(grid, evt);\n            }\n            else{\n                var checkbox = Element.select(trElement, 'input');\n                var isInput  = Event.element(evt).tagName == 'input';\n                var checked = isInput ? checkbox[0].checked : !checkbox[0].checked;\n\n                if(checked) {\n                    this.checkedString = varienStringArray.add(checkbox[0].value, this.checkedString);\n                } else {\n                    this.checkedString = varienStringArray.remove(checkbox[0].value, this.checkedString);\n                }\n                this.grid.setCheckboxChecked(checkbox[0], checked);\n                this.updateCount();\n            }\n            return;\n        }\n\n        if(Event.element(evt).isMassactionCheckbox) {\n           this.setCheckbox(Event.element(evt));\n        } else if (checkbox = this.findCheckbox(evt)) {\n           checkbox.checked = !checkbox.checked;\n           jQuery(checkbox).trigger('change');\n           this.setCheckbox(checkbox);\n        }\n    },\n    onSelectChange: function(evt) {\n        var item = this.getSelectedItem();\n        if(item) {\n            this.formAdditional.update($(this.containerId + '-item-' + item.id + '-block').innerHTML);\n            evt.target.addClassName('_selected')\n        } else {\n            this.formAdditional.update('');\n            evt.target.removeClassName('_selected')\n        }\n        jQuery(this.form).data('validator').resetForm();\n    },\n    findCheckbox: function(evt) {\n        if(['a', 'input', 'select'].indexOf(Event.element(evt).tagName.toLowerCase())!==-1) {\n            return false;\n        }\n        checkbox = false;\n        Event.findElement(evt, 'tr').select('[data-role=\"select-row\"]').each(function(element){\n            if(element.isMassactionCheckbox) {\n                checkbox = element;\n            }\n        }.bind(this));\n        return checkbox;\n    },\n    initCheckboxes: function() {\n        this.getCheckboxes().each(function(checkbox) {\n           checkbox.isMassactionCheckbox = true;\n        }.bind(this));\n    },\n    checkCheckboxes: function() {\n        this.getCheckboxes().each(function(checkbox) {\n            checkbox.checked = varienStringArray.has(checkbox.value, this.checkedString);\n            jQuery(checkbox).trigger('change');\n        }.bind(this));\n    },\n    selectAll: function() {\n        this.setCheckedValues((this.useSelectAll ? this.getGridIds() : this.getCheckboxesValuesAsString()));\n        this.checkCheckboxes();\n        this.updateCount();\n        this.clearLastChecked();\n        return false;\n    },\n    unselectAll: function() {\n        this.setCheckedValues('');\n        this.checkCheckboxes();\n        this.updateCount();\n        this.clearLastChecked();\n        return false;\n    },\n    selectVisible: function() {\n        this.setCheckedValues(this.getCheckboxesValuesAsString());\n        this.checkCheckboxes();\n        this.updateCount();\n        this.clearLastChecked();\n        return false;\n    },\n    unselectVisible: function() {\n        this.getCheckboxesValues().each(function(key){\n            this.checkedString = varienStringArray.remove(key, this.checkedString);\n        }.bind(this));\n        this.checkCheckboxes();\n        this.updateCount();\n        this.clearLastChecked();\n        return false;\n    },\n    setCheckedValues: function(values) {\n        this.checkedString = values;\n    },\n    getCheckedValues: function() {\n        return this.checkedString;\n    },\n    getCheckboxes: function() {\n        var result = [];\n        this.grid.rows.each(function(row){\n            var checkboxes = row.select('[data-role=\"select-row\"]');\n            checkboxes.each(function(checkbox){\n                result.push(checkbox);\n            });\n        });\n        return result;\n    },\n    getCheckboxesValues: function() {\n        var result = [];\n        this.getCheckboxes().each(function(checkbox) {\n            result.push(checkbox.value);\n        }.bind(this));\n        return result;\n    },\n    getCheckboxesValuesAsString: function() {\n        return this.getCheckboxesValues().join(',');\n    },\n    setCheckbox: function(checkbox) {\n        if(checkbox.checked) {\n            this.checkedString = varienStringArray.add(checkbox.value, this.checkedString);\n        } else {\n            this.checkedString = varienStringArray.remove(checkbox.value, this.checkedString);\n        }\n        this.updateCount();\n    },\n    updateCount: function() {\n        var checkboxesTotal = varienStringArray.count((this.useSelectAll ? this.getGridIds() : this.getCheckboxesValuesAsString())),\n            checkboxesChecked = varienStringArray.count(this.checkedString);\n        jQuery('[data-role=\"counter\"]' ,this.count).html(checkboxesChecked);\n        if (!checkboxesTotal) {\n            this.multiselect.addClassName('_disabled');\n        } else {\n            this.multiselect.removeClassName('_disabled');\n        }\n        if (checkboxesChecked == checkboxesTotal && checkboxesTotal != 0) {\n            this.count.removeClassName('_empty');\n            this.multiselect.addClassName('_checked').removeClassName('_indeterminate');\n        } else if (checkboxesChecked == 0) {\n            this.count.addClassName('_empty');\n            this.multiselect.removeClassName('_checked').removeClassName('_indeterminate');\n        } else {\n            this.count.removeClassName('_empty');\n            this.multiselect.addClassName('_checked').addClassName('_indeterminate');\n        }\n        if(!this.grid.reloadParams) {\n            this.grid.reloadParams = {};\n        }\n        this.grid.reloadParams[this.formFieldNameInternal] = this.checkedString;\n    },\n    getSelectedItem: function() {\n        if(this.getItem(this.select.value)) {\n            return this.getItem(this.select.value);\n        } else {\n            return false;\n        }\n    },\n    apply: function() {\n        var self = this;\n\n        if(varienStringArray.count(this.checkedString) == 0) {\n            alert({\n                content: this.errorText\n            });\n\n            return;\n        }\n\n        var item = this.getSelectedItem();\n        if(!item) {\n            jQuery(this.form).valid();\n            return;\n        }\n        this.currentItem = item;\n        var fieldName = (item.field ? item.field : this.formFieldName);\n\n        if (this.currentItem.confirm) {\n            confirm({\n                content: this.currentItem.confirm,\n                actions: {\n                    confirm: this.onConfirm.bind(this, fieldName, item)\n                }\n            });\n        } else {\n            this.onConfirm(fieldName, item);\n        }\n    },\n    onConfirm: function(fieldName, item) {\n        this.formHiddens.update('');\n        new Insertion.Bottom(this.formHiddens, this.fieldTemplate({\n            name: fieldName,\n            value: this.checkedString\n        }));\n        new Insertion.Bottom(this.formHiddens, this.fieldTemplate({\n            name: 'massaction_prepare_key',\n            value: fieldName\n        }));\n\n        if (!jQuery(this.form).valid()) {\n            return;\n        }\n\n        if (this.useAjax && item.url) {\n            new Ajax.Request(item.url, {\n                'method': 'post',\n                'parameters': this.form.serialize(true),\n                'onComplete': this.onMassactionComplete.bind(this)\n            });\n        } else if (item.url) {\n            this.form.action = item.url;\n            this.form.submit();\n        }\n    },\n    onMassactionComplete: function(transport) {\n        if(this.currentItem.complete) {\n            try {\n                var listener = this.getListener(this.currentItem.complete) || Prototype.emptyFunction;\n                listener(this.grid, this, transport);\n            } catch (e) {}\n       }\n    },\n    getListener: function(strValue) {\n        return eval(strValue);\n    },\n    initMassSelect: function() {\n        $$('input[data-role=\"select-row\"]').each(\n            function(element) {\n                element.observe('click', this.massSelect.bind(this));\n            }.bind(this)\n            );\n    },\n    clearLastChecked: function() {\n        this.lastChecked = {\n            left: false,\n            top: false,\n            checkbox: false\n        };\n    },\n    massSelect: function(evt) {\n        if(this.lastChecked.left !== false\n            && this.lastChecked.top !== false\n            && evt.button === 0\n            && evt.shiftKey === true\n        ) {\n            var currentCheckbox = Event.element(evt);\n            var lastCheckbox = this.lastChecked.checkbox;\n            if (lastCheckbox != currentCheckbox) {\n                var start = this.getCheckboxOrder(lastCheckbox);\n                var finish = this.getCheckboxOrder(currentCheckbox);\n                if (start !== false && finish !== false) {\n                    this.selectCheckboxRange(\n                        Math.min(start, finish),\n                        Math.max(start, finish),\n                        currentCheckbox.checked\n                    );\n                }\n            }\n        }\n\n        this.lastChecked = {\n            left: Event.element(evt).viewportOffset().left,\n            top: Event.element(evt).viewportOffset().top,\n            checkbox: Event.element(evt) // \"boundary\" checkbox\n        };\n    },\n    getCheckboxOrder: function(curCheckbox) {\n        var order = false;\n        this.getCheckboxes().each(function(checkbox, key){\n            if (curCheckbox == checkbox) {\n                order = key;\n            }\n        });\n        return order;\n    },\n    selectCheckboxRange: function(start, finish, isChecked){\n        this.getCheckboxes().each((function(checkbox, key){\n            if (key >= start && key <= finish) {\n                checkbox.checked = isChecked;\n                this.setCheckbox(checkbox);\n            }\n        }).bind(this));\n    }\n};\n\nwindow.varienGridAction = {\n    execute: function(select) {\n        if(!select.value || !select.value.isJSON()) {\n            return;\n        }\n\n        var config = select.value.evalJSON();\n        if(config.confirm && !window.confirm(config.confirm)) {\n            select.options[0].selected = true;\n            return;\n        }\n\n        if(config.popup) {\n            var win = window.open(config.href, 'action_window', 'width=500,height=600,resizable=1,scrollbars=1');\n            win.focus();\n            select.options[0].selected = true;\n        } else {\n            setLocation(config.href);\n        }\n    }\n};\n\nwindow.varienStringArray = {\n    remove: function(str, haystack)\n    {\n        haystack = ',' + haystack + ',';\n        haystack = haystack.replace(new RegExp(',' + str + ',', 'g'), ',');\n        return this.trimComma(haystack);\n    },\n    add: function(str, haystack)\n    {\n        haystack = ',' + haystack + ',';\n        if (haystack.search(new RegExp(',' + str + ',', 'g'), haystack) === -1) {\n            haystack += str + ',';\n        }\n        return this.trimComma(haystack);\n    },\n    has: function(str, haystack)\n    {\n        haystack = ',' + haystack + ',';\n        if (haystack.search(new RegExp(',' + str + ',', 'g'), haystack) === -1) {\n            return false;\n        }\n        return true;\n    },\n    count: function(haystack)\n    {\n        if (typeof haystack != 'string') {\n            return 0;\n        }\n        if (match = haystack.match(new RegExp(',', 'g'))) {\n            return match.length + 1;\n        } else if (haystack.length != 0) {\n            return 1;\n        }\n        return 0;\n    },\n    each: function(haystack, fnc)\n    {\n        var haystack = haystack.split(',');\n        for (var i=0; i<haystack.length; i++) {\n            fnc(haystack[i]);\n        }\n    },\n    trimComma: function(string)\n    {\n        string = string.replace(new RegExp('^(,+)','i'), '');\n        string = string.replace(new RegExp('(,+)$','i'), '');\n        return string;\n    }\n};\n\nwindow.serializerController = Class.create();\nserializerController.prototype = {\n    oldCallbacks: {},\n    initialize: function(hiddenDataHolder, predefinedData, inputsToManage, grid, reloadParamName){\n        //Grid inputs\n        this.tabIndex = 1000;\n        this.inputsToManage       = inputsToManage;\n        this.multidimensionalMode = inputsToManage.length > 0;\n\n        //Hash with grid data\n        this.gridData             = this.getGridDataHash(predefinedData);\n\n        //Hidden input data holder\n        this.hiddenDataHolder     = $(hiddenDataHolder);\n        this.hiddenDataHolder.value = this.serializeObject();\n\n        this.grid = grid;\n\n        // Set old callbacks\n        this.setOldCallback('row_click', this.grid.rowClickCallback);\n        this.setOldCallback('init_row', this.grid.initRowCallback);\n        this.setOldCallback('checkbox_check', this.grid.checkboxCheckCallback);\n\n        //Grid\n        this.reloadParamName = reloadParamName;\n        this.grid.reloadParams = {};\n        this.grid.reloadParams[this.reloadParamName+'[]'] = this.getDataForReloadParam();\n        this.grid.rowClickCallback = this.rowClick.bind(this);\n        this.grid.initRowCallback = this.rowInit.bind(this);\n        this.grid.checkboxCheckCallback = this.registerData.bind(this);\n        this.grid.rows.each(this.eachRow.bind(this));\n    },\n    setOldCallback: function (callbackName, callback) {\n        this.oldCallbacks[callbackName] = callback;\n    },\n    getOldCallback: function (callbackName) {\n        return this.oldCallbacks[callbackName] ? this.oldCallbacks[callbackName] : Prototype.emptyFunction;\n    },\n    registerData : function(grid, element, checked) {\n        if(this.multidimensionalMode){\n            if(checked){\n                 if(element.inputElements) {\n                     this.gridData.set(element.value, {});\n                     for(var i = 0; i < element.inputElements.length; i++) {\n                         element.inputElements[i].disabled = false;\n                         this.gridData.get(element.value)[element.inputElements[i].name] = element.inputElements[i].value;\n                     }\n                 }\n            }\n            else{\n                if(element.inputElements){\n                    for(var i = 0; i < element.inputElements.length; i++) {\n                        element.inputElements[i].disabled = true;\n                    }\n                }\n                this.gridData.unset(element.value);\n            }\n        }\n        else{\n            if(checked){\n                this.gridData.set(element.value, element.value);\n            }\n            else{\n                this.gridData.unset(element.value);\n            }\n        }\n\n        this.hiddenDataHolder.value = this.serializeObject();\n        this.grid.reloadParams = {};\n        this.grid.reloadParams[this.reloadParamName+'[]'] = this.getDataForReloadParam();\n        this.getOldCallback('checkbox_check')(grid, element, checked);\n    },\n    eachRow : function(row) {\n        this.rowInit(this.grid, row);\n    },\n    rowClick : function(grid, event) {\n        var trElement = Event.findElement(event, 'tr');\n        var isInput   = Event.element(event).tagName == 'INPUT';\n        if(trElement){\n            var checkbox = Element.select(trElement, 'input');\n            if(checkbox[0] && !checkbox[0].disabled){\n                var checked = isInput ? checkbox[0].checked : !checkbox[0].checked;\n                this.grid.setCheckboxChecked(checkbox[0], checked);\n            }\n        }\n        this.getOldCallback('row_click')(grid, event);\n    },\n    inputChange : function(event) {\n        var element = Event.element(event);\n        if(element && element.checkboxElement && element.checkboxElement.checked){\n            this.gridData.get(element.checkboxElement.value)[element.name] = element.value;\n            this.hiddenDataHolder.value = this.serializeObject();\n        }\n    },\n    rowInit : function(grid, row) {\n        if(this.multidimensionalMode){\n            var checkbox = $(row).select('.checkbox')[0];\n            var selectors = this.inputsToManage.map(function (name) { return ['input[name=\"' + name + '\"]', 'select[name=\"' + name + '\"]']; });\n            var inputs = $(row).select.apply($(row), selectors.flatten());\n            if(checkbox && inputs.length > 0) {\n                checkbox.inputElements = inputs;\n                for(var i = 0; i < inputs.length; i++) {\n                    inputs[i].checkboxElement = checkbox;\n                    if(this.gridData.get(checkbox.value) && this.gridData.get(checkbox.value)[inputs[i].name]) {\n                        inputs[i].value = this.gridData.get(checkbox.value)[inputs[i].name];\n                    }\n                    inputs[i].disabled = !checkbox.checked;\n                    inputs[i].tabIndex = this.tabIndex++;\n                    Event.observe(inputs[i],'keyup', this.inputChange.bind(this));\n                    Event.observe(inputs[i],'change', this.inputChange.bind(this));\n                }\n            }\n        }\n        this.getOldCallback('init_row')(grid, row);\n    },\n\n    //Stuff methods\n    getGridDataHash: function (_object){\n        return $H(this.multidimensionalMode ? _object : this.convertArrayToObject(_object))\n    },\n    getDataForReloadParam: function(){\n        return this.multidimensionalMode ? this.gridData.keys() : this.gridData.values();\n    },\n    serializeObject: function(){\n        if(this.multidimensionalMode){\n            var clone = this.gridData.clone();\n            clone.each(function(pair) {\n                clone.set(pair.key, Base64.encode(Object.toQueryString(pair.value)));\n            });\n            return clone.toQueryString();\n        }\n        else{\n            return this.gridData.values().join('&');\n        }\n    },\n    convertArrayToObject: function (_array){\n        var _object = {};\n        for(var i = 0, l = _array.length; i < l; i++){\n            _object[_array[i]] = _array[i];\n        }\n        return _object;\n    }\n};\n\n});\n","mage/adminhtml/events.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'Magento_Ui/js/modal/alert',\n    'prototype'\n], function(alert){\n\n    // from http://www.someelement.com/2007/03/eventpublisher-custom-events-la-pubsub.html\n    varienEvents = Class.create();\n\n    varienEvents.prototype = {\n        initialize: function() {\n            this.arrEvents = {};\n            this.eventPrefix = '';\n        },\n\n        /**\n        * Attaches a {handler} function to the publisher's {eventName} event for execution upon the event firing\n        * @param {String} eventName\n        * @param {Function} handler\n        * @param {Boolean} asynchFlag [optional] Defaults to false if omitted. Indicates whether to execute {handler} asynchronously (true) or not (false).\n        */\n        attachEventHandler : function(eventName, handler) {\n            if ((typeof handler == 'undefined') || (handler == null)) {\n                return;\n            }\n            eventName = eventName + this.eventPrefix;\n            // using an event cache array to track all handlers for proper cleanup\n            if (this.arrEvents[eventName] == null){\n                this.arrEvents[eventName] = [];\n            }\n            //create a custom object containing the handler method and the asynch flag\n            var asynchVar = arguments.length > 2 ? arguments[2] : false;\n            var handlerObj = {\n                method: handler,\n                asynch: asynchVar\n            };\n            this.arrEvents[eventName].push(handlerObj);\n        },\n\n        /**\n        * Removes a single handler from a specific event\n        * @param {String} eventName The event name to clear the handler from\n        * @param {Function} handler A reference to the handler function to un-register from the event\n        */\n        removeEventHandler : function(eventName, handler) {\n            eventName = eventName + this.eventPrefix;\n            if (this.arrEvents[eventName] != null){\n                this.arrEvents[eventName] = this.arrEvents[eventName].reject(function(obj) { return obj.method == handler; });\n            }\n        },\n\n        /**\n        * Removes all handlers from a single event\n        * @param {String} eventName The event name to clear handlers from\n        */\n        clearEventHandlers : function(eventName) {\n            eventName = eventName + this.eventPrefix;\n            this.arrEvents[eventName] = null;\n        },\n\n        /**\n        * Removes all handlers from ALL events\n        */\n        clearAllEventHandlers : function() {\n            this.arrEvents = {};\n        },\n\n        /**\n        * Fires the event {eventName}, resulting in all registered handlers to be executed.\n        * It also collects and returns results of all non-asynchronous handlers\n        * @param {String} eventName The name of the event to fire\n        * @params {Object} args [optional] Any object, will be passed into the handler function as the only argument\n        * @return {Array}\n        */\n        fireEvent : function(eventName) {\n            var evtName = eventName + this.eventPrefix;\n            var results = [];\n            var result;\n            if (this.arrEvents[evtName] != null) {\n                var len = this.arrEvents[evtName].length; //optimization\n                for (var i = 0; i < len; i++) {\n                    try {\n                        if (arguments.length > 1) {\n                            if (this.arrEvents[evtName][i].asynch) {\n                                var eventArgs = arguments[1];\n                                var method = this.arrEvents[evtName][i].method.bind(this);\n                                setTimeout(function() { method(eventArgs) }.bind(this), 10);\n                            }\n                            else{\n                                result = this.arrEvents[evtName][i].method(arguments[1]);\n                            }\n                        }\n                        else {\n                            if (this.arrEvents[evtName][i].asynch) {\n                                var eventHandler = this.arrEvents[evtName][i].method;\n                                setTimeout(eventHandler, 1);\n                            }\n                            else if (this.arrEvents && this.arrEvents[evtName] && this.arrEvents[evtName][i] && this.arrEvents[evtName][i].method){\n                                result = this.arrEvents[evtName][i].method();\n                            }\n                        }\n                        results.push(result);\n                    }\n                    catch (e) {\n                        if (this.id){\n                            alert({\n                                content: \"error: error in \" + this.id + \".fireEvent():\\n\\nevent name: \" + eventName + \"\\n\\nerror message: \" + e.message\n                            });\n                        }\n                        else {\n                            alert({\n                                content: \"error: error in [unknown object].fireEvent():\\n\\nevent name: \" + eventName + \"\\n\\nerror message: \" + e.message\n                            });\n                        }\n                    }\n                }\n            }\n            return results;\n        }\n    };\n\n    varienGlobalEvents = new varienEvents();\n\n});\n","mage/adminhtml/globals.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'Magento_Ui/js/modal/confirm',\n    'mage/dataPost'\n], function (confirm, dataPost) {\n    'use strict';\n\n    /**\n     * Set of a temporary methods used to provide\n     * backward compatability with a legacy code.\n     */\n    window.setLocation = function (url) {\n        window.location.href = url;\n    };\n\n    /**\n     * Helper for onclick action.\n     * @param {String} message\n     * @param {String} url\n     * @param {Object} postData\n     * @returns {boolean}\n     */\n    window.deleteConfirm = function (message, url, postData) {\n        confirm({\n            content: message,\n            actions: {\n                confirm: function () {\n                    if (postData !== undefined) {\n                        postData.action = url;\n                        dataPost().postData(postData);\n                    } else {\n                        setLocation(url);\n                    }\n                }\n            }\n        });\n\n        return false;\n    };\n\n    /**\n     * Helper for onclick action.\n     * @param {String} message\n     * @param {String} url\n     * @returns {boolean}\n     */\n    window.confirmSetLocation = window.deleteConfirm;\n});\n","mage/adminhtml/backup.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    \"jquery\",\n    \"Magento_Ui/js/modal/modal\",\n    \"mage/mage\",\n    \"prototype\"\n], function(jQuery){\n\n    AdminBackup = new Class.create();\n    \n    AdminBackup.prototype = {\n        initialize : function(a, b){\n            this.reset();\n            this.rollbackUrl = this.backupUrl = '';\n        },\n\n        reset: function() {\n            this.time = 0;\n            this.type = '';\n        },\n\n        backup: function(type) {\n            this.reset();\n            this.type = type;\n            this.requestBackupOptions();\n            return false;\n        },\n\n        rollback: function(type, time) {\n            this.reset();\n            this.time = time;\n            this.type = type;\n            this.showRollbackWarning();\n            return false;\n        },\n\n        showRollbackWarning: function() {\n            this.showPopup('rollback-warning');\n        },\n\n        requestBackupOptions: function() {\n            this.hidePopups();\n            \n            var action = this.type != 'snapshot' ? 'hide' : 'show';\n            \n            this.showPopup('backup-options');\n\n            $$('#exclude-media-checkbox-container').invoke(action);\n        },\n\n        requestPassword: function() {\n            this.hidePopups();\n\n            this.showPopup('rollback-request-password');\n\n            this.type != 'db' ?\n                $('use-ftp-checkbox-row').show() :\n                $('use-ftp-checkbox-row').hide();\n        },\n\n        toggleFtpCredentialsForm: function() {\n            $('use_ftp').checked ? $('ftp-credentials-container').show()\n                : $('ftp-credentials-container').hide();\n\n            $$('#ftp-credentials-container input').each(function(item) {\n                if (item.name == 'ftp_path') return;\n                $('use_ftp').checked ? item.addClassName('required-entry') : item.removeClassName('required-entry');\n            });\n        },\n\n        submitBackup: function () {\n            var data = {\n                'type': this.type,\n                'maintenance_mode': $('backup_maintenance_mode').checked ? 1 : 0,\n                'backup_name': $('backup_name').value,\n                'exclude_media': $('exclude_media').checked ? 1 : 0\n            };\n\n            new Ajax.Request(this.backupUrl, {\n                onSuccess: function(transport) {\n                    this.processResponse(transport, 'backup-options');\n                }.bind(this),\n                method: 'post',\n                parameters: data\n            });\n\n            this.modal.modal('closeModal');\n        },\n\n        submitRollback: function() {\n            var data = this.getPostData();\n\n            new Ajax.Request(this.rollbackUrl, {\n                onSuccess: function(transport) {\n                    this.processResponse(transport, 'rollback-request-password');\n                }.bind(this),\n                method: 'post',\n                parameters: data\n            });\n\n            this.modal.modal('closeModal');\n        },\n\n        processResponse: function(transport, popupId) {\n            if (!transport.responseText.isJSON()) {\n                return;\n            }\n\n            var json = transport.responseText.evalJSON();\n\n            if (!!json.error) {\n                this.showPopup(popupId);\n                this.displayError(popupId, json.error);\n                return;\n            }\n\n            if (!!json.redirect_url) {\n                setLocation(json.redirect_url);\n            }\n        },\n\n        displayError: function(parentContainer, message) {\n            var messageHtml = this.getErrorMessageHtml(message);\n            $$('#' + parentContainer + ' .backup-messages .messages').invoke('update', messageHtml);\n            $$('#' + parentContainer + ' .backup-messages').invoke('show');\n        },\n\n        getErrorMessageHtml: function(message) {\n            return '<div class=\"message message-error error\"><div>' + message + '</div></div>';\n        },\n\n        getPostData: function() {\n            var data = $('rollback-form').serialize(true);\n            data['time'] = this.time;\n            data['type'] = this.type;\n            return data;\n        },\n        backupConfig: {\n            'backup-options': {\n                title: jQuery.mage.__('Backup options'),\n                content: function () {\n                    return document.getElementById('backup-options-template').textContent;\n                },\n                actionOk: function () {\n                    this.modal.find('#backup-form').validation({\n                        submitHandler: jQuery.proxy(this.submitBackup, this)\n                    });\n                    this.modal.find('#backup-form').submit();\n                }\n            },\n            'rollback-warning': {\n                title: jQuery.mage.__('Warning'),\n                content: function () {\n                    return document.getElementById('rollback-warning-template').textContent;\n                },\n                actionOk: function () {\n                    this.modal.modal('closeModal');\n                    this.requestPassword();\n                }\n            },\n            'rollback-request-password': {\n                title: jQuery.mage.__('Backup options'),\n                content: function () {\n                    return document.getElementById('rollback-request-password-template').textContent;\n                },\n                actionOk: function () {\n                    this.modal.find('#rollback-form').validation({\n                        submitHandler: jQuery.proxy(this.submitRollback, this)\n                    });\n                    this.modal.find('#rollback-form').submit();\n                },\n                opened: function () {\n                    this.toggleFtpCredentialsForm();\n                }\n            }\n        },\n        showPopup: function(divId) {\n            var self = this;\n\n            this.modal = jQuery('<div/>').attr({id: divId}).html(this.backupConfig[divId].content()).modal({\n                modalClass: 'magento',\n                title: this.backupConfig[divId].title,\n                type: 'slide',\n                closed: function(e, modal){\n                    modal.modal.remove();\n                },\n                opened: function () {\n                    if (self.backupConfig[divId].opened) {\n                        self.backupConfig[divId].opened.call(self);\n                    }\n                },\n                buttons: [{\n                    text: jQuery.mage.__('Cancel'),\n                    'class': 'action cancel',\n                    click: function () {\n                        this.closeModal();\n                    }\n                }, {\n                    text: jQuery.mage.__('Ok'),\n                    'class': 'action primary',\n                    click: function () {\n                        self.backupConfig[divId].actionOk.call(self);\n                    }\n                }]\n            });\n            this.modal.modal('openModal');\n        },\n\n        hidePopups: function() {\n            $$('.backup-dialog').each(Element.hide);\n            var mask = $('popup-window-mask');\n            if (mask) {\n                mask.hide();\n            }\n        }\n    }\n\n});\n","mage/adminhtml/wysiwyg/widget.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    \"jquery\",\n    \"tinymce\",\n    'Magento_Ui/js/modal/alert',\n    \"jquery/ui\",\n    \"mage/translate\",\n    \"mage/mage\",\n    \"mage/validation\",\n    \"mage/adminhtml/events\",\n    \"prototype\",\n    'Magento_Ui/js/modal/modal'\n], function(jQuery, tinyMCE, alert){\n\n    var widgetTools = {\n        getDivHtml: function(id, html) {\n            if (!html) html = '';\n            return '<div id=\"' + id + '\">' + html + '</div>';\n        },\n\n        onAjaxSuccess: function(transport) {\n            if (transport.responseText.isJSON()) {\n                var response = transport.responseText.evalJSON()\n                if (response.error) {\n                    throw response;\n                } else if (response.ajaxExpired && response.ajaxRedirect) {\n                    setLocation(response.ajaxRedirect);\n                }\n            }\n        },\n\n        dialogOpened : false,\n\n        getMaxZIndex: function() {\n            var max = 0, i;\n            var cn = document.body.childNodes;\n            for (i = 0; i < cn.length; i++) {\n                var el = cn[i];\n                var zIndex = el.nodeType == 1 ? parseInt(el.style.zIndex, 10) || 0 : 0;\n                if (zIndex < 10000) {\n                    max = Math.max(max, zIndex);\n                }\n            }\n            return max + 10;\n        },\n\n        openDialog: function(widgetUrl) {\n            if (this.dialogOpened) {\n                return\n            }\n            var oThis = this;\n            this.dialogWindow = jQuery('<div/>').modal({\n                title: jQuery.mage.__('Insert Widget...'),\n                type: 'slide',\n                buttons: [],\n                opened: function () {\n                    var dialog = jQuery(this).addClass('loading magento-message')\n                    new Ajax.Updater($(this), widgetUrl, {evalScripts: true, onComplete: function () {\n                            dialog.removeClass('loading');\n                        }\n                    });\n                },\n                closed: function (e, modal) {\n                    modal.modal.remove();\n                    oThis.dialogOpened = false;\n                }\n            });\n            this.dialogOpened = true;\n            this.dialogWindow.modal('openModal');\n        }\n    };\n\n    var WysiwygWidget = {};\n    WysiwygWidget.Widget = Class.create();\n    WysiwygWidget.Widget.prototype = {\n\n        initialize: function(formEl, widgetEl, widgetOptionsEl, optionsSourceUrl, widgetTargetId) {\n            $(formEl).insert({bottom: widgetTools.getDivHtml(widgetOptionsEl)});\n            jQuery('#' + formEl).mage('validation', {\n                ignore: \".skip-submit\",\n                errorClass: 'mage-error'\n            });\n            this.formEl = formEl;\n            this.widgetEl = $(widgetEl);\n            this.widgetOptionsEl = $(widgetOptionsEl);\n            this.optionsUrl = optionsSourceUrl;\n            this.optionValues = new Hash({});\n            this.widgetTargetId = widgetTargetId;\n            if (typeof(tinyMCE) != \"undefined\" && tinyMCE.activeEditor) {\n                this.bMark = tinyMCE.activeEditor.selection.getBookmark();\n            }\n\n            Event.observe(this.widgetEl, \"change\", this.loadOptions.bind(this));\n\n            this.initOptionValues();\n        },\n\n        getOptionsContainerId: function() {\n            return this.widgetOptionsEl.id + '_' + this.widgetEl.value.gsub(/\\//, '_');\n        },\n\n        switchOptionsContainer: function(containerId) {\n            $$('#' + this.widgetOptionsEl.id + ' div[id^=' + this.widgetOptionsEl.id + ']').each(function(e) {\n                this.disableOptionsContainer(e.id);\n            }.bind(this));\n            if(containerId != undefined) {\n                this.enableOptionsContainer(containerId);\n            }\n            this._showWidgetDescription();\n        },\n\n        enableOptionsContainer: function(containerId) {\n            $$('#' + containerId + ' .widget-option').each(function(e) {\n                e.removeClassName('skip-submit');\n                if (e.hasClassName('obligatory')) {\n                    e.removeClassName('obligatory');\n                    e.addClassName('required-entry');\n                }\n            });\n            $(containerId).removeClassName('no-display');\n        },\n\n        disableOptionsContainer: function(containerId) {\n            if ($(containerId).hasClassName('no-display')) {\n                return;\n            }\n            $$('#' + containerId + ' .widget-option').each(function(e) {\n                // Avoid submitting fields of unactive container\n                if (!e.hasClassName('skip-submit')) {\n                    e.addClassName('skip-submit');\n                }\n                // Form validation workaround for unactive container\n                if (e.hasClassName('required-entry')) {\n                    e.removeClassName('required-entry');\n                    e.addClassName('obligatory');\n                }\n            });\n            $(containerId).addClassName('no-display');\n        },\n\n        // Assign widget options values when existing widget selected in WYSIWYG\n        initOptionValues: function() {\n\n            if (!this.wysiwygExists()) {\n                return false;\n            }\n\n            var e = this.getWysiwygNode();\n            if (e != undefined && e.id) {\n                var widgetCode = Base64.idDecode(e.id);\n                if (widgetCode.indexOf('{{widget') != -1) {\n                    this.optionValues = new Hash({});\n                    widgetCode.gsub(/([a-z0-9\\_]+)\\s*\\=\\s*[\\\"]{1}([^\\\"]+)[\\\"]{1}/i, function(match){\n                        if (match[1] == 'type') {\n                            this.widgetEl.value = match[2];\n                        } else {\n                            this.optionValues.set(match[1], match[2]);\n                        }\n                    }.bind(this));\n\n                    this.loadOptions();\n                }\n            }\n        },\n\n        loadOptions: function() {\n            if (!this.widgetEl.value) {\n                this.switchOptionsContainer();\n                return;\n            }\n\n            var optionsContainerId = this.getOptionsContainerId();\n            if ($(optionsContainerId) != undefined) {\n                this.switchOptionsContainer(optionsContainerId);\n                return;\n            }\n\n            this._showWidgetDescription();\n\n            var params = {widget_type: this.widgetEl.value, values: this.optionValues};\n            new Ajax.Request(this.optionsUrl,\n                {\n                    parameters: {widget: Object.toJSON(params)},\n                    onSuccess: function(transport) {\n                        try {\n                            widgetTools.onAjaxSuccess(transport);\n                            this.switchOptionsContainer();\n                            if ($(optionsContainerId) == undefined) {\n                                this.widgetOptionsEl.insert({bottom: widgetTools.getDivHtml(optionsContainerId, transport.responseText)});\n                            } else {\n                                this.switchOptionsContainer(optionsContainerId);\n                            }\n                        } catch(e) {\n                            alert({\n                                content: e.message\n                            });\n                        }\n                    }.bind(this)\n                }\n            );\n        },\n\n        _showWidgetDescription: function() {\n            var noteCnt = this.widgetEl.next().down('small');\n            var descrCnt = $('widget-description-' + this.widgetEl.selectedIndex);\n            if(noteCnt != undefined) {\n                var description = (descrCnt != undefined ? descrCnt.innerHTML : '');\n                noteCnt.update(description);\n            }\n        },\n\n        validateField: function() {\n            jQuery(this.widgetEl).valid();\n        },\n\n        insertWidget: function() {\n            jQuery('#' + this.formEl).validate({\n                ignore: \".skip-submit\",\n                errorClass: 'mage-error'\n            });\n\n            var validationResult = jQuery('#' + this.formEl).valid();\n            if (validationResult) {\n                var formElements = [];\n                var i = 0;\n                Form.getElements($(this.formEl)).each(function(e) {\n                    if(!e.hasClassName('skip-submit')) {\n                        formElements[i] = e;\n                        i++;\n                    }\n                });\n\n                // Add as_is flag to parameters if wysiwyg editor doesn't exist\n                var params = Form.serializeElements(formElements);\n                if (!this.wysiwygExists()) {\n                    params = params + '&as_is=1';\n                }\n\n                new Ajax.Request($(this.formEl).action,\n                    {\n                        parameters: params,\n                        onComplete: function(transport) {\n                            try {\n                                widgetTools.onAjaxSuccess(transport);\n                                widgetTools.dialogWindow.modal('closeModal');\n\n                                if (typeof(tinyMCE) != \"undefined\" && tinyMCE.activeEditor) {\n                                    tinyMCE.activeEditor.focus();\n                                    if (this.bMark) {\n                                        tinyMCE.activeEditor.selection.moveToBookmark(this.bMark);\n                                    }\n                                }\n\n                                this.updateContent(transport.responseText);\n                            } catch(e) {\n                                alert({\n                                    content: e.message\n                                });\n                            }\n                        }.bind(this)\n                    });\n            }\n        },\n\n        updateContent: function(content) {\n            if (this.wysiwygExists()) {\n                this.getWysiwyg().execCommand(\"mceInsertContent\", false, content);\n            } else {\n                var textarea = document.getElementById(this.widgetTargetId);\n                updateElementAtCursor(textarea, content);\n                varienGlobalEvents.fireEvent('tinymceChange');\n                jQuery(textarea).change();\n            }\n        },\n\n        wysiwygExists: function() {\n            return (typeof tinyMCE != 'undefined') && tinyMCE.get(this.widgetTargetId);\n        },\n\n        getWysiwyg: function() {\n            return tinyMCE.activeEditor;\n        },\n\n        getWysiwygNode: function() {\n            return tinyMCE.activeEditor.selection.getNode();\n        }\n    }\n\n    WysiwygWidget.chooser = Class.create();\n    WysiwygWidget.chooser.prototype = {\n\n        // HTML element A, on which click event fired when choose a selection\n        chooserId: null,\n\n        // Source URL for Ajax requests\n        chooserUrl: null,\n\n        // Chooser config\n        config: null,\n\n        // Chooser dialog window\n        dialogWindow: null,\n\n        // Chooser content for dialog window\n        dialogContent: null,\n\n        overlayShowEffectOptions: null,\n        overlayHideEffectOptions: null,\n\n        initialize: function(chooserId, chooserUrl, config) {\n            this.chooserId = chooserId;\n            this.chooserUrl = chooserUrl;\n            this.config = config;\n        },\n\n        getResponseContainerId: function() {\n            return 'responseCnt' + this.chooserId;\n        },\n\n        getChooserControl: function() {\n            return $(this.chooserId + 'control');\n        },\n\n        getElement: function() {\n            return $(this.chooserId + 'value');\n        },\n\n        getElementLabel: function() {\n            return $(this.chooserId + 'label');\n        },\n\n        open: function() {\n            $(this.getResponseContainerId()).show();\n        },\n\n        close: function() {\n            $(this.getResponseContainerId()).hide();\n            this.closeDialogWindow();\n        },\n\n        choose: function(event) {\n            // Open dialog window with previously loaded dialog content\n            if (this.dialogContent) {\n                this.openDialogWindow(this.dialogContent);\n                return;\n            }\n            // Show or hide chooser content if it was already loaded\n            var responseContainerId = this.getResponseContainerId();\n\n            // Otherwise load content from server\n            new Ajax.Request(this.chooserUrl,\n                {\n                    parameters: {element_value: this.getElementValue(), element_label: this.getElementLabelText()},\n                    onSuccess: function(transport) {\n                        try {\n                            widgetTools.onAjaxSuccess(transport);\n                            this.dialogContent = widgetTools.getDivHtml(responseContainerId, transport.responseText);\n                            this.openDialogWindow(this.dialogContent);\n                        } catch(e) {\n                            alert({\n                                content: e.message\n                            });\n                        }\n                    }.bind(this)\n                }\n            );\n        },\n\n        openDialogWindow: function (content) {\n            this.dialogWindow = jQuery('<div/>').modal({\n                title: this.config.buttons.open,\n                type: 'slide',\n                buttons: [],\n                opened: function () {\n                    jQuery(this).addClass('magento-message');\n                },\n                closed: function (e, modal) {\n                    modal.modal.remove();\n                    this.dialogWindow = null;\n                }\n            });\n\n            this.dialogWindow.modal('openModal').append(content);\n        },\n\n        closeDialogWindow: function () {\n            this.dialogWindow.modal('closeModal').remove();\n        },\n\n        getElementValue: function(value) {\n            return this.getElement().value;\n        },\n\n        getElementLabelText: function(value) {\n            return this.getElementLabel().innerHTML;\n        },\n\n        setElementValue: function(value) {\n            this.getElement().value = value;\n        },\n\n        setElementLabel: function(value) {\n            this.getElementLabel().innerHTML = value;\n        }\n    };\n\n    window.WysiwygWidget = WysiwygWidget;\n    window.widgetTools = widgetTools;\n});\n","mage/adminhtml/wysiwyg/tiny_mce/html5-schema.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore'\n], function (_) {\n    'use strict';\n\n    /* eslint-disable max-len */\n\n    var schema = {\n        blockContent: [\n            'address', 'article', 'aside', 'blockquote', 'details', 'dialog', 'div', 'dl', 'fieldset',\n            'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'hr',\n            'menu', 'nav', 'ol', 'p', 'pre', 'section', 'table', 'ul'\n        ],\n        phrasingContent: [\n            '#comment', '#text', 'a', 'abbr', 'audio', 'b', 'bdi', 'bdo', 'br', 'button', 'canvas',\n            'cite','code', 'command', 'datalist', 'del', 'dfn', 'em', 'embed', 'i', 'iframe', 'img',\n            'input', 'ins', 'kbd', 'keygen', 'label', 'map', 'mark', 'meter', 'noscript', 'object',\n            'output', 'picture', 'progress', 'q', 'ruby', 's', 'samp', 'script', 'select', 'small',\n            'span', 'strong', 'sub', 'sup', 'textarea', 'time', 'u', 'var', 'video', 'wbr'\n        ],\n        blockElements: [\n            'address', 'article', 'aside', 'blockquote', 'caption', 'center', 'datalist', 'dd', 'dir', 'div',\n            'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\n            'header', 'hgroup', 'hr', 'isindex', 'li', 'menu', 'nav', 'noscript', 'ol', 'optgroup', 'option',\n            'p', 'pre', 'section', 'select', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'ul'\n        ],\n        boolAttrs: [\n            'autoplay', 'checked', 'compact', 'controls', 'declare', 'defer', 'disabled', 'ismap', 'loop',\n            'multiple', 'nohref', 'noresize', 'noshade', 'nowrap', 'readonly', 'selected'\n        ],\n        shortEnded: [\n            'area', 'base', 'basefont', 'br', 'col', 'embed', 'frame', 'hr', 'img', 'input', 'isindex',\n            'link', 'meta', 'param', 'source', 'track', 'wbr'\n        ],\n        whiteSpace: [\n            'audio', 'iframe', 'noscript', 'object', 'pre', 'script', 'style', 'textarea', 'video'\n        ],\n        selfClosing: [\n            'colgroup', 'dd', 'dt', 'li', 'option', 'p', 'td', 'tfoot', 'th', 'thead', 'tr'\n        ]\n    };\n\n    schema.flowContent = schema.blockContent.concat(schema.phrasingContent, ['style']);\n    schema.nonEmpty = ['td', 'th', 'iframe', 'video', 'audio', 'object', 'script'].concat(schema.shortEnded);\n\n    _.extend(schema, (function (phrasingContent, flowContent) {\n        var validElements   = [],\n            validChildren   = [],\n            compiled        = {},\n            globalAttrs,\n            rawData;\n\n        globalAttrs = [\n            'id', 'dir', 'lang', 'class', 'style', 'title', 'hidden', 'onclick', 'onkeyup',\n            'tabindex', 'dropzone', 'accesskey', 'draggable', 'translate', 'onmouseup',\n            'onkeydown', 'spellcheck', 'ondblclick', 'onmouseout', 'onkeypress', 'contextmenu',\n            'onmousedown', 'onmouseover', 'onmousemove', 'contenteditable'\n        ];\n\n        rawData = [\n            ['html', 'manifest', 'head body'],\n            ['head', '', 'base command link meta noscript script style title'],\n            ['title hr noscript br'],\n            ['base', 'href target'],\n            ['link', 'href rel media hreflang type sizes hreflang'],\n            ['meta', 'name http-equiv content charset'],\n            ['style', 'media type scoped'],\n            ['script', 'src async defer type charset'],\n            ['body', 'onafterprint onbeforeprint onbeforeunload onblur onerror onfocus ' +\n                'onhashchange onload onmessage onoffline ononline onpagehide onpageshow ' +\n                'onpopstate onresize onscroll onstorage onunload background bgcolor text link vlink alink', flowContent\n            ],\n            ['caption', '', _.without(flowContent, 'table')],\n            ['address dt dd div', '', flowContent],\n            ['h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn', '', phrasingContent],\n            ['blockquote', 'cite', flowContent],\n            ['ol', 'reversed start type', 'li'],\n            ['ul', 'type compact', 'li'],\n            ['li', 'value type', flowContent],\n            ['dl', '', 'dt dd'],\n            ['a', 'href target rel media hreflang type charset name rev shape coords download', phrasingContent],\n            ['q', 'cite', phrasingContent],\n            ['ins del', 'cite datetime', flowContent],\n            ['img', 'src sizes srcset alt usemap ismap width height name longdesc align border hspace vspace'],\n            ['iframe', 'src name width height longdesc frameborder marginwidth marginheight scrolling align sandbox seamless allowfullscreen', flowContent],\n            ['embed', 'src type width height'],\n            ['object', 'data type typemustmatch name usemap form width height declare classid code codebase codetype archive standby align border hspace vspace', flowContent.concat(['param'])],\n            ['param', 'name value valuetype type'],\n            ['map', 'name', flowContent.concat(['area'])],\n            ['area', 'alt coords shape href target rel media hreflang type nohref'],\n            ['table', 'border summary width frame rules cellspacing cellpadding align bgcolor', 'caption colgroup thead tfoot tbody tr col'],\n            ['colgroup', 'span width align char charoff valign', 'col'],\n            ['col', 'span'],\n            ['tbody thead tfoot', 'align char charoff valign', 'tr'],\n            ['tr', 'align char charoff valign bgcolor', 'td th'],\n            ['td', 'colspan rowspan headers abbr axis scope align char charoff valign nowrap bgcolor width height', flowContent],\n            ['th', 'colspan rowspan headers scope abbr axis align char charoff valign nowrap bgcolor width height accept', flowContent],\n            ['form', 'accept-charset action autocomplete enctype method name novalidate target onsubmit onreset', flowContent],\n            ['fieldset', 'disabled form name', flowContent.concat(['legend'])],\n            ['label', 'form for', phrasingContent],\n            ['input', 'accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate ' +\n                'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width usemap align'\n            ],\n            ['button', 'disabled form formaction formenctype formmethod formnovalidate formtarget name type value', phrasingContent],\n            ['select', 'disabled form multiple name required size onfocus onblur onchange', 'option optgroup'],\n            ['optgroup', 'disabled label', 'option'],\n            ['option', 'disabled label selected value'],\n            ['textarea', 'cols dirname disabled form maxlength name readonly required rows wrap'],\n            ['menu', 'type label', flowContent.concat(['li'])],\n            ['noscript', '', flowContent],\n            ['wbr'],\n            ['ruby', '', phrasingContent.concat(['rt', 'rp'])],\n            ['figcaption', '', flowContent],\n            ['mark rt rp summary bdi', '', phrasingContent],\n            ['canvas', 'width height', flowContent],\n            ['video', 'src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered', flowContent.concat(['track', 'source'])],\n            ['audio', 'src crossorigin preload autoplay mediagroup loop muted controls buffered volume', flowContent.concat(['track', 'source'])],\n            ['picture', '', 'img source'],\n            ['source', 'src srcset type media sizes'],\n            ['track', 'kind src srclang label default'],\n            ['datalist', '', phrasingContent.concat(['option'])],\n            ['article section nav aside header footer', '', flowContent],\n            ['hgroup', '', 'h1 h2 h3 h4 h5 h6'],\n            ['figure', '', flowContent.concat(['figcaption'])],\n            ['time', 'datetime', phrasingContent],\n            ['dialog', 'open', flowContent],\n            ['command', 'type label icon disabled checked radiogroup command'],\n            ['output', 'for form name', phrasingContent],\n            ['progress', 'value max', phrasingContent],\n            ['meter', 'value min max low high optimum', phrasingContent],\n            ['details', 'open', flowContent.concat(['summary'])],\n            ['keygen', 'autofocus challenge disabled form keytype name'],\n            ['script', 'language xml:space'],\n            ['style', 'xml:space'],\n            ['embed', 'align name hspace vspace'],\n            ['br', 'clear'],\n            ['applet', 'codebase archive code object alt name width height align hspace vspace'],\n            ['font basefont', 'size color face'],\n            ['h1 h2 h3 h4 h5 h6 div p legend caption', 'align'],\n            ['ol dl menu dir', 'compact'],\n            ['pre', 'width xml:space'],\n            ['hr', 'align noshade size width'],\n            ['isindex', 'prompt'],\n            ['col', 'width align char charoff valign'],\n            ['input button select textarea', 'autofocus'],\n            ['input textarea', 'placeholder onselect onchange onfocus onblur'],\n            ['link script img', 'crossorigin']\n        ];\n\n        rawData.forEach(function (data) {\n            var nodes       = data[0].split(' '),\n                attributes  = data[1] || [],\n                children    = data[2] || [],\n                ni          = nodes.length,\n                nodeName,\n                schemaData;\n\n            if (typeof attributes === 'string') {\n                attributes = attributes.split(' ');\n            }\n\n            if (typeof children === 'string') {\n                children = children.split(' ');\n            }\n\n            while (ni--) {\n                nodeName    = nodes[ni];\n                schemaData  = compiled[nodeName] || {};\n\n                compiled[nodeName] = {\n                    attributes: _.union(schemaData.attributes, globalAttrs, attributes),\n                    children: _.union(schemaData.children, children)\n                };\n            }\n        });\n\n        ['a', 'dfn', 'form', 'meter', 'progress'].forEach(function (nodeName) {\n            var node = compiled[nodeName];\n\n            node.children = _.without(node.children, nodeName);\n        });\n\n        _.each(compiled, function (node, nodeName) {\n            var attributes  = node.attributes.join('|'),\n                children    = node.children.join('|');\n\n            validElements.push(nodeName + '[' + attributes + ']');\n            validChildren.push(nodeName + '[' + children + ']');\n        });\n\n        return {\n            nodes: compiled,\n            validElements: validElements,\n            validChildren: validChildren\n        };\n    })(schema.phrasingContent, schema.flowContent));\n\n    return schema;\n});\n","mage/adminhtml/wysiwyg/tiny_mce/setup.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'underscore',\n    'tinymce',\n    'mage/adminhtml/wysiwyg/tiny_mce/html5-schema',\n    'mage/translate',\n    'prototype',\n    'mage/adminhtml/events',\n    'mage/adminhtml/browser'\n], function(jQuery, _, tinyMCE, html5Schema) {\n\n    tinyMceWysiwygSetup = Class.create();\n\n    tinyMceWysiwygSetup.prototype = {\n        mediaBrowserOpener: null,\n        mediaBrowserTargetElementId: null,\n\n        initialize: function(htmlId, config) {\n            if (config.baseStaticUrl && config.baseStaticDefaultUrl) {\n                tinyMCE.baseURL = tinyMCE.baseURL.replace(config.baseStaticUrl, config.baseStaticDefaultUrl);\n            }\n\n            this.id = htmlId;\n            this.config = config;\n            this.schema = config.schema || html5Schema;\n\n            _.bindAll(this, 'beforeSetContent', 'saveContent', 'onChangeContent', 'openFileBrowser', 'updateTextArea');\n\n            varienGlobalEvents.attachEventHandler('tinymceChange', this.onChangeContent);\n            varienGlobalEvents.attachEventHandler('tinymceBeforeSetContent', this.beforeSetContent);\n            varienGlobalEvents.attachEventHandler('tinymceSetContent', this.updateTextArea);\n            varienGlobalEvents.attachEventHandler('tinymceSaveContent', this.saveContent);\n\n            if (typeof tinyMceEditors == 'undefined') {\n                tinyMceEditors = $H({});\n            }\n\n            tinyMceEditors.set(this.id, this);\n        },\n\n        setup: function(mode) {\n            if (this.config.widget_plugin_src) {\n                tinyMCE.PluginManager.load('magentowidget', this.config.widget_plugin_src);\n            }\n\n            if (this.config.plugins) {\n                this.config.plugins.each(function(plugin) {\n                    tinyMCE.PluginManager.load(plugin.name, plugin.src);\n                });\n            }\n\n            tinyMCE.init(this.getSettings(mode));\n        },\n\n        getSettings: function(mode) {\n            var plugins = 'inlinepopups,safari,pagebreak,style,layer,table,advhr,advimage,emotions,iespell,media,searchreplace,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras',\n                self = this;\n\n            if (this.config.widget_plugin_src) {\n                plugins = 'magentowidget,' + plugins;\n            }\n\n            var magentoPluginsOptions = $H({});\n            var magentoPlugins = '';\n\n            if (this.config.plugins) {\n                this.config.plugins.each(function(plugin) {\n                    magentoPlugins = plugin.name + ',' + magentoPlugins;\n                    magentoPluginsOptions.set(plugin.name, plugin.options);\n                });\n                if (magentoPlugins) {\n                    plugins = '-' + magentoPlugins + plugins;\n                }\n            }\n\n            var settings = {\n                mode: (mode != undefined ? mode : 'none'),\n                elements: this.id,\n                theme: 'advanced',\n                plugins: plugins,\n                theme_advanced_buttons1: magentoPlugins + 'magentowidget,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect',\n                theme_advanced_buttons2: 'cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,forecolor,backcolor',\n                theme_advanced_buttons3: 'tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,iespell,media,advhr,|,ltr,rtl,|,fullscreen',\n                theme_advanced_buttons4: 'insertlayer,moveforward,movebackward,absolute,|,styleprops,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,pagebreak',\n                theme_advanced_toolbar_location: 'top',\n                theme_advanced_toolbar_align: 'left',\n                theme_advanced_statusbar_location: 'bottom',\n                valid_elements: this.schema.validElements.join(','),\n                valid_children: this.schema.validChildren.join(','),\n                theme_advanced_resizing: true,\n                theme_advanced_resize_horizontal: false,\n                convert_urls: false,\n                relative_urls: false,\n                content_css: this.config.content_css,\n                custom_popup_css: this.config.popup_css,\n                magentowidget_url: this.config.widget_window_url,\n                magentoPluginsOptions: magentoPluginsOptions,\n                doctype: '<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">',\n                setup: function(ed){\n                    ed.onInit.add(self.onEditorInit.bind(self));\n\n                    ed.onSubmit.add(function(ed, e) {\n                        varienGlobalEvents.fireEvent('tinymceSubmit', e);\n                    });\n\n                    ed.onPaste.add(function(ed, e, o) {\n                        varienGlobalEvents.fireEvent('tinymcePaste', o);\n                    });\n\n                    ed.onBeforeSetContent.add(function(ed, o) {\n                        varienGlobalEvents.fireEvent('tinymceBeforeSetContent', o);\n                    });\n\n                    ed.onSetContent.add(function(ed, o) {\n                        varienGlobalEvents.fireEvent('tinymceSetContent', o);\n                    });\n\n                    ed.onSaveContent.add(function(ed, o) {\n                        varienGlobalEvents.fireEvent('tinymceSaveContent', o);\n                    });\n\n                    var onChange = function(ed, l) {\n                        varienGlobalEvents.fireEvent('tinymceChange', l);\n                    };\n\n                    ed.onChange.add(onChange);\n                    ed.onKeyUp.add(onChange);\n\n                    ed.onExecCommand.add(function(ed, cmd, ui, val) {\n                        varienGlobalEvents.fireEvent('tinymceExecCommand', cmd);\n                    });\n                }\n            };\n\n            // Set the document base URL\n            if (this.config.document_base_url) {\n                settings.document_base_url = this.config.document_base_url;\n            }\n\n            if (this.config.files_browser_window_url) {\n                settings.file_browser_callback = function(fieldName, url, objectType, w) {\n                    varienGlobalEvents.fireEvent(\"open_browser_callback\", {\n                        win: w,\n                        type: objectType,\n                        field: fieldName\n                    });\n                };\n            }\n\n            if (this.config.width) {\n                settings.width = this.config.width;\n            }\n\n            if (this.config.height) {\n                settings.height = this.config.height;\n            }\n\n            if (this.config.settings) {\n                Object.extend(settings, this.config.settings)\n            }\n\n            return settings;\n        },\n\n        applySchema: function (editor) {\n            var schema      = editor.schema,\n                schemaData  = this.schema,\n                makeMap     = tinyMCE.makeMap;\n\n            jQuery.extend(true, {\n                nonEmpty: schema.getNonEmptyElements(),\n                boolAttrs: schema.getBoolAttrs(),\n                whiteSpace: schema.getWhiteSpaceElements(),\n                shortEnded: schema.getShortEndedElements(),\n                selfClosing: schema.getSelfClosingElements(),\n                blockElements: schema.getBlockElements()\n            }, {\n                nonEmpty: makeMap(schemaData.nonEmpty),\n                boolAttrs: makeMap(schemaData.boolAttrs),\n                whiteSpace: makeMap(schemaData.whiteSpace),\n                shortEnded: makeMap(schemaData.shortEnded),\n                selfClosing: makeMap(schemaData.selfClosing),\n                blockElements: makeMap(schemaData.blockElements)\n            });\n        },\n\n        openFileBrowser: function(o) {\n            var typeTitle,\n                storeId = this.config.store_id !== null ? this.config.store_id : 0,\n                frameDialog = jQuery(o.win.frameElement).parents('[role=\"dialog\"]'),\n                wUrl = this.config.files_browser_window_url +\n                'target_element_id/' + this.id + '/' +\n                'store/' + storeId + '/';\n\n            this.mediaBrowserOpener = o.win;\n            this.mediaBrowserTargetElementId = o.field;\n\n            if (typeof(o.type) != 'undefined' && o.type != \"\") {\n                typeTitle = 'image' == o.type ? this.translate('Insert Image...') : this.translate('Insert Media...');\n                wUrl = wUrl + \"type/\" + o.type + \"/\";\n            } else {\n                typeTitle = this.translate('Insert File...');\n            }\n\n            frameDialog.hide();\n            jQuery('#mceModalBlocker').hide();\n\n            MediabrowserUtility.openDialog(wUrl, false, false, typeTitle, {\n                closed: function() {\n                    frameDialog.show();\n                    jQuery('#mceModalBlocker').show();\n                }\n            });\n        },\n\n        translate: function(string) {\n            return jQuery.mage.__ ? jQuery.mage.__(string) : string;\n        },\n\n        getMediaBrowserOpener: function() {\n            return this.mediaBrowserOpener;\n        },\n\n        getMediaBrowserTargetElementId: function() {\n            return this.mediaBrowserTargetElementId;\n        },\n\n        getToggleButton: function() {\n            return $('toggle' + this.id);\n        },\n\n        getPluginButtons: function() {\n            return $$('#buttons' + this.id + ' > button.plugin');\n        },\n\n        turnOn: function(mode) {\n            this.closePopups();\n\n            this.setup(mode);\n\n            tinyMCE.execCommand('mceAddControl', false, this.id);\n\n            this.getPluginButtons().each(function(e) {\n                e.hide();\n            });\n\n            return this;\n        },\n\n        turnOff: function() {\n            this.closePopups();\n\n            tinyMCE.execCommand('mceRemoveControl', false, this.id);\n\n            this.getPluginButtons().each(function(e) {\n                e.show();\n            });\n\n            return this;\n        },\n\n        closePopups: function() {\n            if (typeof closeEditorPopup == 'function') {\n                // close all popups to avoid problems with updating parent content area\n                closeEditorPopup('widget_window' + this.id);\n                closeEditorPopup('browser_window' + this.id);\n            }\n        },\n\n        toggle: function() {\n            if (!tinyMCE.get(this.id)) {\n                this.turnOn();\n                return true;\n            } else {\n                this.turnOff();\n                return false;\n            }\n        },\n\n        onEditorInit: function (editor) {\n            this.applySchema(editor);\n        },\n\n        onFormValidation: function() {\n            if (tinyMCE.get(this.id)) {\n                $(this.id).value = tinyMCE.get(this.id).getContent();\n            }\n        },\n\n        onChangeContent: function() {\n            // Add \"changed\" to tab class if it exists\n            this.updateTextArea();\n\n            if (this.config.tab_id) {\n                var tab = $$('a[id$=' + this.config.tab_id + ']')[0];\n                if ($(tab) != undefined && $(tab).hasClassName('tab-item-link')) {\n                    $(tab).addClassName('changed');\n                }\n            }\n        },\n\n        // retrieve directives URL with substituted directive value\n        makeDirectiveUrl: function(directive) {\n            return this.config.directives_url.replace('directive', 'directive/___directive/' + directive);\n        },\n\n        encodeDirectives: function(content) {\n            // collect all HTML tags with attributes that contain directives\n            return content.gsub(/<([a-z0-9\\-\\_]+.+?)([a-z0-9\\-\\_]+=\".*?\\{\\{.+?\\}\\}.*?\".+?)>/i, function(match) {\n                var attributesString = match[2];\n                // process tag attributes string\n                attributesString = attributesString.gsub(/([a-z0-9\\-\\_]+)=\"(.*?)(\\{\\{.+?\\}\\})(.*?)\"/i, function(m) {\n                    return m[1] + '=\"' + m[2] + this.makeDirectiveUrl(Base64.mageEncode(m[3])) + m[4] + '\"';\n                }.bind(this));\n\n                return '<' + match[1] + attributesString + '>';\n\n            }.bind(this));\n        },\n\n        encodeWidgets: function(content) {\n            return content.gsub(/\\{\\{widget(.*?)\\}\\}/i, function(match) {\n                var attributes = this.parseAttributesString(match[1]);\n                if (attributes.type) {\n                    attributes.type = attributes.type.replace(/\\\\\\\\/g, \"\\\\\");\n                    var imageSrc = this.config.widget_placeholders[attributes.type];\n                    var imageHtml = '<img';\n                    imageHtml += ' id=\"' + Base64.idEncode(match[0]) + '\"';\n                    imageHtml += ' src=\"' + imageSrc + '\"';\n                    imageHtml += ' title=\"' + match[0].replace(/\\{\\{/g, '{').replace(/\\}\\}/g, '}').replace(/\\\"/g, '&quot;') + '\"';\n                    imageHtml += '>';\n\n                    return imageHtml;\n                }\n            }.bind(this));\n        },\n\n        decodeDirectives: function(content) {\n            // escape special chars in directives url to use it in regular expression\n            var url = this.makeDirectiveUrl('%directive%').replace(/([$^.?*!+:=()\\[\\]{}|\\\\])/g, '\\\\$1');\n            var reg = new RegExp(url.replace('%directive%', '([a-zA-Z0-9,_-]+)'));\n            return content.gsub(reg, function(match) {\n                return Base64.mageDecode(match[1]);\n            }.bind(this));\n        },\n\n        decodeWidgets: function(content) {\n            return content.gsub(/<img([^>]+id=\\\"[^>]+)>/i, function(match) {\n                var attributes = this.parseAttributesString(match[1]);\n                if (attributes.id) {\n                    var widgetCode = Base64.idDecode(attributes.id);\n                    if (widgetCode.indexOf('{{widget') != -1) {\n                        return widgetCode;\n                    }\n                    return match[0];\n                }\n                return match[0];\n            }.bind(this));\n        },\n\n        parseAttributesString: function(attributes) {\n            var result = {};\n            attributes.gsub(/(\\w+)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/, function(match) {\n                result[match[1]] = match[2];\n            });\n            return result;\n        },\n\n        updateTextArea: function () {\n            var editor = tinyMCE.get(this.id),\n                content;\n\n            if (!editor) {\n                return;\n            }\n\n            content = editor.getContent();\n            content = this.decodeContent(content);\n\n            jQuery('#' + this.id).val(content).trigger('change');\n        },\n\n        decodeContent: function (content) {\n            var result = content;\n\n            if (this.config.add_widgets) {\n                result = this.decodeWidgets(result);\n                result = this.decodeDirectives(result);\n            } else if (this.config.add_directives) {\n                result = this.decodeDirectives(result);\n            }\n\n            return result;\n        },\n\n        encodeContent: function (content) {\n            var result = content;\n\n            if (this.config.add_widgets) {\n                result = this.encodeWidgets(result);\n                result = this.encodeDirectives(result);\n            } else if (this.config.add_directives) {\n                result = this.encodeDirectives(result);\n            }\n\n            return result;\n        },\n\n        beforeSetContent: function(o){\n            o.content = this.encodeContent(o.content);\n        },\n\n        saveContent: function(o) {\n            o.content = this.decodeContent(o.content);\n        }\n    };\n});\n","mage/adminhtml/wysiwyg/tiny_mce/plugins/magentowidget/editor_plugin.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ntinyMCE.addI18n({en:{\n    magentowidget:\n    {\n        insert_widget : \"Insert Widget\"\n    }\n}});\n\n/*\n    TODO: Apply JStrim to reduce file size\n*/\n\n(function() {\n    tinymce.create('tinymce.plugins.MagentowidgetPlugin', {\n        /**\n         * @param {tinymce.Editor} ed Editor instance that the plugin is initialized in.\n         * @param {string} url Absolute URL to where the plugin is located.\n         */\n        init : function(ed, url) {\n            ed.addCommand('mceMagentowidget', function() {\n                widgetTools.openDialog(ed.settings.magentowidget_url + 'widget_target_id/' + ed.getElement().id + '/');\n            });\n\n            // Register Widget plugin button\n            ed.addButton('magentowidget', {\n                title : 'magentowidget.insert_widget',\n                cmd : 'mceMagentowidget',\n                image : url + '/img/icon.gif'\n            });\n\n            // Add a node change handler, selects the button in the UI when a image is selected\n            ed.onNodeChange.add(function(ed, cm, n) {\n                cm.setActive('magentowidget', false);\n                if (n.id && n.nodeName == 'IMG') {\n                    var widgetCode = Base64.idDecode(n.id);\n                    if (widgetCode.indexOf('{{widget') != -1) {\n                        cm.setActive('magentowidget', true);\n                    }\n                }\n            });\n\n            // Add a widget placeholder image double click callback\n            ed.onDblClick.add(function(ed, e) {\n                var n = e.target;\n                if (n.id && n.nodeName == 'IMG') {\n                    var widgetCode = Base64.idDecode(n.id);\n                    if (widgetCode.indexOf('{{widget') != -1) {\n                        ed.execCommand('mceMagentowidget');\n                    }\n                }\n            });\n        },\n\n        getInfo : function() {\n            return {\n                longname : 'Magento Widget Manager Plugin for TinyMCE 3.x',\n                author : 'Magento Core Team',\n                authorurl : 'http://magentocommerce.com',\n                infourl : 'http://magentocommerce.com',\n                version : \"1.0\"\n            };\n        }\n    });\n\n    // Register plugin\n    tinymce.PluginManager.add('magentowidget', tinymce.plugins.MagentowidgetPlugin);\n})();\n","mage/adminhtml/wysiwyg/tiny_mce/plugins/magentovariable/editor_plugin.js":"/**\n * Copyright \u00c2\u00a9 2013-2017 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ntinyMCE.addI18n({en:{\n    magentovariable:\n    {\n        insert_variable : \"Insert Variable\"\n    }\n}});\n\n(function() {\n    tinymce.create('tinymce.plugins.MagentovariablePlugin', {\n        /**\n         * @param {tinymce.Editor} ed Editor instance that the plugin is initialized in.\n         * @param {string} url Absolute URL to where the plugin is located.\n         */\n        init : function(ed, url) {\n            ed.addCommand('mceMagentovariable', function() {\n                var pluginSettings = ed.settings.magentoPluginsOptions.get('magentovariable');\n                MagentovariablePlugin.setEditor(ed);\n                MagentovariablePlugin.loadChooser(pluginSettings.url, null);\n            });\n\n            // Register Widget plugin button\n            ed.addButton('magentovariable', {\n                title : 'magentovariable.insert_variable',\n                cmd : 'mceMagentovariable',\n                image : url + '/img/icon.gif'\n            });\n        },\n\n        getInfo : function() {\n            return {\n                longname : 'Magento Variable Manager Plugin for TinyMCE 3.x',\n                author : 'Magento Core Team',\n                authorurl : 'http://magentocommerce.com',\n                infourl : 'http://magentocommerce.com',\n                version : \"1.0\"\n            };\n        }\n    });\n\n    // Register plugin\n    tinymce.PluginManager.add('magentovariable', tinymce.plugins.MagentovariablePlugin);\n})();\n","modernizr/modernizr.js":"/*!\n * Modernizr v2.6.1\n * www.modernizr.com\n *\n * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton\n * Available under the BSD and MIT licenses: www.modernizr.com/license/\n */\n\n/*\n * Modernizr tests which native CSS3 and HTML5 features are available in\n * the current UA and makes the results available to you in two ways:\n * as properties on a global Modernizr object, and as classes on the\n * <html> element. This information allows you to progressively enhance\n * your pages with a granular level of control over the experience.\n *\n * Modernizr has an optional (not included) conditional resource loader\n * called Modernizr.load(), based on Yepnope.js (yepnopejs.com).\n * To get a build that includes Modernizr.load(), as well as choosing\n * which tests to include, go to www.modernizr.com/download/\n *\n * Authors        Faruk Ates, Paul Irish, Alex Sexton\n * Contributors   Ryan Seddon, Ben Alman\n */\n\nwindow.Modernizr = (function( window, document, undefined ) {\n\n    var version = '2.6.1',\n\n        Modernizr = {},\n\n    /*>>cssclasses*/\n    // option for enabling the HTML classes to be added\n        enableClasses = true,\n    /*>>cssclasses*/\n\n        docElement = document.documentElement,\n\n        /**\n         * Create our \"modernizr\" element that we do most feature tests on.\n         */\n            mod = 'modernizr',\n        modElem = document.createElement(mod),\n        mStyle = modElem.style,\n\n        /**\n         * Create the input element for various Web Forms feature tests.\n         */\n            inputElem /*>>inputelem*/ = document.createElement('input') /*>>inputelem*/ ,\n\n    /*>>smile*/\n        smile = ':)',\n    /*>>smile*/\n\n        toString = {}.toString,\n\n    // TODO :: make the prefixes more granular\n    /*>>prefixes*/\n    // List of property values to set for css tests. See ticket #21\n        prefixes = ' -webkit- -moz- -o- -ms- '.split(' '),\n    /*>>prefixes*/\n\n    /*>>domprefixes*/\n    // Following spec is to expose vendor-specific style properties as:\n    //   elem.style.WebkitBorderRadius\n    // and the following would be incorrect:\n    //   elem.style.webkitBorderRadius\n\n    // Webkit ghosts their properties in lowercase but Opera & Moz do not.\n    // Microsoft uses a lowercase `ms` instead of the correct `Ms` in IE8+\n    //   erik.eae.net/archives/2008/03/10/21.48.10/\n\n    // More here: github.com/Modernizr/Modernizr/issues/issue/21\n        omPrefixes = 'Webkit Moz O ms',\n\n        cssomPrefixes = omPrefixes.split(' '),\n\n        domPrefixes = omPrefixes.toLowerCase().split(' '),\n    /*>>domprefixes*/\n\n    /*>>ns*/\n        ns = {'svg': 'http://www.w3.org/2000/svg'},\n    /*>>ns*/\n\n        tests = {},\n        inputs = {},\n        attrs = {},\n\n        classes = [],\n\n        slice = classes.slice,\n\n        featureName, // used in testing loop\n\n\n    /*>>teststyles*/\n    // Inject element with style element and some CSS rules\n        injectElementWithStyles = function( rule, callback, nodes, testnames ) {\n\n            var style, ret, node,\n                div = document.createElement('div'),\n            // After page load injecting a fake body doesn't work so check if body exists\n                body = document.body,\n            // IE6 and 7 won't return offsetWidth or offsetHeight unless it's in the body element, so we fake it.\n                fakeBody = body ? body : document.createElement('body');\n\n            if ( parseInt(nodes, 10) ) {\n                // In order not to give false positives we create a node for each test\n                // This also allows the method to scale for unspecified uses\n                while ( nodes-- ) {\n                    node = document.createElement('div');\n                    node.id = testnames ? testnames[nodes] : mod + (nodes + 1);\n                    div.appendChild(node);\n                }\n            }\n\n            // <style> elements in IE6-9 are considered 'NoScope' elements and therefore will be removed\n            // when injected with innerHTML. To get around this you need to prepend the 'NoScope' element\n            // with a 'scoped' element, in our case the soft-hyphen entity as it won't mess with our measurements.\n            // msdn.microsoft.com/en-us/library/ms533897%28VS.85%29.aspx\n            // Documents served as xml will throw if using &shy; so use xml friendly encoded version. See issue #277\n            style = ['&#173;','<style id=\"s', mod, '\">', rule, '</style>'].join('');\n            div.id = mod;\n            // IE6 will false positive on some tests due to the style element inside the test div somehow interfering offsetHeight, so insert it into body or fakebody.\n            // Opera will act all quirky when injecting elements in documentElement when page is served as xml, needs fakebody too. #270\n            (body ? div : fakeBody).innerHTML += style;\n            fakeBody.appendChild(div);\n            if ( !body ) {\n                //avoid crashing IE8, if background image is used\n                fakeBody.style.background = \"\";\n                docElement.appendChild(fakeBody);\n            }\n\n            ret = callback(div, rule);\n            // If this is done after page load we don't want to remove the body so check if body exists\n            !body ? fakeBody.parentNode.removeChild(fakeBody) : div.parentNode.removeChild(div);\n\n            return !!ret;\n\n        },\n    /*>>teststyles*/\n\n    /*>>mq*/\n    // adapted from matchMedia polyfill\n    // by Scott Jehl and Paul Irish\n    // gist.github.com/786768\n        testMediaQuery = function( mq ) {\n\n            var matchMedia = window.matchMedia || window.msMatchMedia;\n            if ( matchMedia ) {\n                return matchMedia(mq).matches;\n            }\n\n            var bool;\n\n            injectElementWithStyles('@media ' + mq + ' { #' + mod + ' { position: absolute; } }', function( node ) {\n                bool = (window.getComputedStyle ?\n                    getComputedStyle(node, null) :\n                    node.currentStyle)['position'] == 'absolute';\n            });\n\n            return bool;\n\n        },\n    /*>>mq*/\n\n\n    /*>>hasevent*/\n    //\n    // isEventSupported determines if a given element supports the given event\n    // kangax.github.com/iseventsupported/\n    //\n    // The following results are known incorrects:\n    //   Modernizr.hasEvent(\"webkitTransitionEnd\", elem) // false negative\n    //   Modernizr.hasEvent(\"textInput\") // in Webkit. github.com/Modernizr/Modernizr/issues/333\n    //   ...\n        isEventSupported = (function() {\n\n            var TAGNAMES = {\n                'select': 'input', 'change': 'input',\n                'submit': 'form', 'reset': 'form',\n                'error': 'img', 'load': 'img', 'abort': 'img'\n            };\n\n            function isEventSupported( eventName, element ) {\n\n                element = element || document.createElement(TAGNAMES[eventName] || 'div');\n                eventName = 'on' + eventName;\n\n                // When using `setAttribute`, IE skips \"unload\", WebKit skips \"unload\" and \"resize\", whereas `in` \"catches\" those\n                var isSupported = eventName in element;\n\n                if ( !isSupported ) {\n                    // If it has no `setAttribute` (i.e. doesn't implement Node interface), try generic element\n                    if ( !element.setAttribute ) {\n                        element = document.createElement('div');\n                    }\n                    if ( element.setAttribute && element.removeAttribute ) {\n                        element.setAttribute(eventName, '');\n                        isSupported = is(element[eventName], 'function');\n\n                        // If property was created, \"remove it\" (by setting value to `undefined`)\n                        if ( !is(element[eventName], 'undefined') ) {\n                            element[eventName] = undefined;\n                        }\n                        element.removeAttribute(eventName);\n                    }\n                }\n\n                element = null;\n                return isSupported;\n            }\n            return isEventSupported;\n        })(),\n    /*>>hasevent*/\n\n    // TODO :: Add flag for hasownprop ? didn't last time\n\n    // hasOwnProperty shim by kangax needed for Safari 2.0 support\n        _hasOwnProperty = ({}).hasOwnProperty, hasOwnProp;\n\n    if ( !is(_hasOwnProperty, 'undefined') && !is(_hasOwnProperty.call, 'undefined') ) {\n        hasOwnProp = function (object, property) {\n            return _hasOwnProperty.call(object, property);\n        };\n    }\n    else {\n        hasOwnProp = function (object, property) { /* yes, this can give false positives/negatives, but most of the time we don't care about those */\n            return ((property in object) && is(object.constructor.prototype[property], 'undefined'));\n        };\n    }\n\n    // Adapted from ES5-shim https://github.com/kriskowal/es5-shim/blob/master/es5-shim.js\n    // es5.github.com/#x15.3.4.5\n\n    if (!Function.prototype.bind) {\n        Function.prototype.bind = function bind(that) {\n\n            var target = this;\n\n            if (typeof target != \"function\") {\n                throw new TypeError();\n            }\n\n            var args = slice.call(arguments, 1),\n                bound = function () {\n\n                    if (this instanceof bound) {\n\n                        var F = function(){};\n                        F.prototype = target.prototype;\n                        var self = new F();\n\n                        var result = target.apply(\n                            self,\n                            args.concat(slice.call(arguments))\n                        );\n                        if (Object(result) === result) {\n                            return result;\n                        }\n                        return self;\n\n                    } else {\n\n                        return target.apply(\n                            that,\n                            args.concat(slice.call(arguments))\n                        );\n\n                    }\n\n                };\n\n            return bound;\n        };\n    }\n\n    /**\n     * setCss applies given styles to the Modernizr DOM node.\n     */\n    function setCss( str ) {\n        mStyle.cssText = str;\n    }\n\n    /**\n     * setCssAll extrapolates all vendor-specific css strings.\n     */\n    function setCssAll( str1, str2 ) {\n        return setCss(prefixes.join(str1 + ';') + ( str2 || '' ));\n    }\n\n    /**\n     * is returns a boolean for if typeof obj is exactly type.\n     */\n    function is( obj, type ) {\n        return typeof obj === type;\n    }\n\n    /**\n     * contains returns a boolean for if substr is found within str.\n     */\n    function contains( str, substr ) {\n        return !!~('' + str).indexOf(substr);\n    }\n\n    /*>>testprop*/\n\n    // testProps is a generic CSS / DOM property test.\n\n    // In testing support for a given CSS property, it's legit to test:\n    //    `elem.style[styleName] !== undefined`\n    // If the property is supported it will return an empty string,\n    // if unsupported it will return undefined.\n\n    // We'll take advantage of this quick test and skip setting a style\n    // on our modernizr element, but instead just testing undefined vs\n    // empty string.\n\n    // Because the testing of the CSS property names (with \"-\", as\n    // opposed to the camelCase DOM properties) is non-portable and\n    // non-standard but works in WebKit and IE (but not Gecko or Opera),\n    // we explicitly reject properties with dashes so that authors\n    // developing in WebKit or IE first don't end up with\n    // browser-specific content by accident.\n\n    function testProps( props, prefixed ) {\n        for ( var i in props ) {\n            var prop = props[i];\n            if ( !contains(prop, \"-\") && mStyle[prop] !== undefined ) {\n                return prefixed == 'pfx' ? prop : true;\n            }\n        }\n        return false;\n    }\n    /*>>testprop*/\n\n    // TODO :: add testDOMProps\n    /**\n     * testDOMProps is a generic DOM property test; if a browser supports\n     *   a certain property, it won't return undefined for it.\n     */\n    function testDOMProps( props, obj, elem ) {\n        for ( var i in props ) {\n            var item = obj[props[i]];\n            if ( item !== undefined) {\n\n                // return the property name as a string\n                if (elem === false) return props[i];\n\n                // let's bind a function\n                if (is(item, 'function')){\n                    // default to autobind unless override\n                    return item.bind(elem || obj);\n                }\n\n                // return the unbound function or obj or value\n                return item;\n            }\n        }\n        return false;\n    }\n\n    /*>>testallprops*/\n    /**\n     * testPropsAll tests a list of DOM properties we want to check against.\n     *   We specify literally ALL possible (known and/or likely) properties on\n     *   the element including the non-vendor prefixed one, for forward-\n     *   compatibility.\n     */\n    function testPropsAll( prop, prefixed, elem ) {\n\n        var ucProp  = prop.charAt(0).toUpperCase() + prop.slice(1),\n            props   = (prop + ' ' + cssomPrefixes.join(ucProp + ' ') + ucProp).split(' ');\n\n        // did they call .prefixed('boxSizing') or are we just testing a prop?\n        if(is(prefixed, \"string\") || is(prefixed, \"undefined\")) {\n            return testProps(props, prefixed);\n\n            // otherwise, they called .prefixed('requestAnimationFrame', window[, elem])\n        } else {\n            props = (prop + ' ' + (domPrefixes).join(ucProp + ' ') + ucProp).split(' ');\n            return testDOMProps(props, prefixed, elem);\n        }\n    }\n    /*>>testallprops*/\n\n\n    /**\n     * Tests\n     * -----\n     */\n\n        // The *new* flexbox\n        // dev.w3.org/csswg/css3-flexbox\n\n    tests['flexbox'] = function() {\n        return testPropsAll('flexWrap');\n    };\n\n    // The *old* flexbox\n    // www.w3.org/TR/2009/WD-css3-flexbox-20090723/\n\n    tests['flexboxlegacy'] = function() {\n        return testPropsAll('boxDirection');\n    };\n\n    // On the S60 and BB Storm, getContext exists, but always returns undefined\n    // so we actually have to call getContext() to verify\n    // github.com/Modernizr/Modernizr/issues/issue/97/\n\n    tests['canvas'] = function() {\n        var elem = document.createElement('canvas');\n        return !!(elem.getContext && elem.getContext('2d'));\n    };\n\n    tests['canvastext'] = function() {\n        return !!(Modernizr['canvas'] && is(document.createElement('canvas').getContext('2d').fillText, 'function'));\n    };\n\n    // webk.it/70117 is tracking a legit WebGL feature detect proposal\n\n    // We do a soft detect which may false positive in order to avoid\n    // an expensive context creation: bugzil.la/732441\n\n    tests['webgl'] = function() {\n        return !!window.WebGLRenderingContext;\n    };\n\n    /*\n     * The Modernizr.touch test only indicates if the browser supports\n     *    touch events, which does not necessarily reflect a touchscreen\n     *    device, as evidenced by tablets running Windows 7 or, alas,\n     *    the Palm Pre / WebOS (touch) phones.\n     *\n     * Additionally, Chrome (desktop) used to lie about its support on this,\n     *    but that has since been rectified: crbug.com/36415\n     *\n     * We also test for Firefox 4 Multitouch Support.\n     *\n     * For more info, see: modernizr.github.com/Modernizr/touch.html\n     */\n\n    tests['touch'] = function() {\n        var bool;\n\n        if(('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\n            bool = true;\n        } else {\n            injectElementWithStyles(['@media (',prefixes.join('touch-enabled),('),mod,')','{#modernizr{top:9px;position:absolute}}'].join(''), function( node ) {\n                bool = node.offsetTop === 9;\n            });\n        }\n\n        return bool;\n    };\n\n\n    // geolocation is often considered a trivial feature detect...\n    // Turns out, it's quite tricky to get right:\n    //\n    // Using !!navigator.geolocation does two things we don't want. It:\n    //   1. Leaks memory in IE9: github.com/Modernizr/Modernizr/issues/513\n    //   2. Disables page caching in WebKit: webk.it/43956\n    //\n    // Meanwhile, in Firefox < 8, an about:config setting could expose\n    // a false positive that would throw an exception: bugzil.la/688158\n\n    tests['geolocation'] = function() {\n        return 'geolocation' in navigator;\n    };\n\n\n    tests['postmessage'] = function() {\n        return !!window.postMessage;\n    };\n\n\n    // Chrome incognito mode used to throw an exception when using openDatabase\n    // It doesn't anymore.\n    tests['websqldatabase'] = function() {\n        return !!window.openDatabase;\n    };\n\n    // Vendors had inconsistent prefixing with the experimental Indexed DB:\n    // - Webkit's implementation is accessible through webkitIndexedDB\n    // - Firefox shipped moz_indexedDB before FF4b9, but since then has been mozIndexedDB\n    // For speed, we don't test the legacy (and beta-only) indexedDB\n    tests['indexedDB'] = function() {\n        return !!testPropsAll(\"indexedDB\", window);\n    };\n\n    // documentMode logic from YUI to filter out IE8 Compat Mode\n    //   which false positives.\n    tests['hashchange'] = function() {\n        return isEventSupported('hashchange', window) && (document.documentMode === undefined || document.documentMode > 7);\n    };\n\n    // Per 1.6:\n    // This used to be Modernizr.historymanagement but the longer\n    // name has been deprecated in favor of a shorter and property-matching one.\n    // The old API is still available in 1.6, but as of 2.0 will throw a warning,\n    // and in the first release thereafter disappear entirely.\n    tests['history'] = function() {\n        return !!(window.history && history.pushState);\n    };\n\n    tests['draganddrop'] = function() {\n        var div = document.createElement('div');\n        return ('draggable' in div) || ('ondragstart' in div && 'ondrop' in div);\n    };\n\n    // FF3.6 was EOL'ed on 4/24/12, but the ESR version of FF10\n    // will be supported until FF19 (2/12/13), at which time, ESR becomes FF17.\n    // FF10 still uses prefixes, so check for it until then.\n    // for more ESR info, see: mozilla.org/en-US/firefox/organizations/faq/\n    tests['websockets'] = function() {\n        return 'WebSocket' in window || 'MozWebSocket' in window;\n    };\n\n\n    // css-tricks.com/rgba-browser-support/\n    tests['rgba'] = function() {\n        // Set an rgba() color and check the returned value\n\n        setCss('background-color:rgba(150,255,150,.5)');\n\n        return contains(mStyle.backgroundColor, 'rgba');\n    };\n\n    tests['hsla'] = function() {\n        // Same as rgba(), in fact, browsers re-map hsla() to rgba() internally,\n        //   except IE9 who retains it as hsla\n\n        setCss('background-color:hsla(120,40%,100%,.5)');\n\n        return contains(mStyle.backgroundColor, 'rgba') || contains(mStyle.backgroundColor, 'hsla');\n    };\n\n    tests['multiplebgs'] = function() {\n        // Setting multiple images AND a color on the background shorthand property\n        //  and then querying the style.background property value for the number of\n        //  occurrences of \"url(\" is a reliable method for detecting ACTUAL support for this!\n\n        setCss('background:url(https://),url(https://),red url(https://)');\n\n        // If the UA supports multiple backgrounds, there should be three occurrences\n        //   of the string \"url(\" in the return value for elemStyle.background\n\n        return (/(url\\s*\\(.*?){3}/).test(mStyle.background);\n    };\n\n\n\n    // this will false positive in Opera Mini\n    //   github.com/Modernizr/Modernizr/issues/396\n\n    tests['backgroundsize'] = function() {\n        return testPropsAll('backgroundSize');\n    };\n\n    tests['borderimage'] = function() {\n        return testPropsAll('borderImage');\n    };\n\n\n    // Super comprehensive table about all the unique implementations of\n    // border-radius: muddledramblings.com/table-of-css3-border-radius-compliance\n\n    tests['borderradius'] = function() {\n        return testPropsAll('borderRadius');\n    };\n\n    // WebOS unfortunately false positives on this test.\n    tests['boxshadow'] = function() {\n        return testPropsAll('boxShadow');\n    };\n\n    // FF3.0 will false positive on this test\n    tests['textshadow'] = function() {\n        return document.createElement('div').style.textShadow === '';\n    };\n\n\n    tests['opacity'] = function() {\n        // Browsers that actually have CSS Opacity implemented have done so\n        //  according to spec, which means their return values are within the\n        //  range of [0.0,1.0] - including the leading zero.\n\n        setCssAll('opacity:.55');\n\n        // The non-literal . in this regex is intentional:\n        //   German Chrome returns this value as 0,55\n        // github.com/Modernizr/Modernizr/issues/#issue/59/comment/516632\n        return (/^0.55$/).test(mStyle.opacity);\n    };\n\n\n    // Note, Android < 4 will pass this test, but can only animate\n    //   a single property at a time\n    //   daneden.me/2011/12/putting-up-with-androids-bullshit/\n    tests['cssanimations'] = function() {\n        return testPropsAll('animationName');\n    };\n\n\n    tests['csscolumns'] = function() {\n        return testPropsAll('columnCount');\n    };\n\n\n    tests['cssgradients'] = function() {\n        /**\n         * For CSS Gradients syntax, please see:\n         * webkit.org/blog/175/introducing-css-gradients/\n         * developer.mozilla.org/en/CSS/-moz-linear-gradient\n         * developer.mozilla.org/en/CSS/-moz-radial-gradient\n         * dev.w3.org/csswg/css3-images/#gradients-\n         */\n\n        var str1 = 'background-image:',\n            str2 = 'gradient(linear,left top,right bottom,from(#9f9),to(white));',\n            str3 = 'linear-gradient(left top,#9f9, white);';\n\n        setCss(\n            // legacy webkit syntax (FIXME: remove when syntax not in use anymore)\n            (str1 + '-webkit- '.split(' ').join(str2 + str1) +\n                // standard syntax             // trailing 'background-image:'\n                prefixes.join(str3 + str1)).slice(0, -str1.length)\n        );\n\n        return contains(mStyle.backgroundImage, 'gradient');\n    };\n\n\n    tests['cssreflections'] = function() {\n        return testPropsAll('boxReflect');\n    };\n\n\n    tests['csstransforms'] = function() {\n        return !!testPropsAll('transform');\n    };\n\n\n    tests['csstransforms3d'] = function() {\n\n        var ret = !!testPropsAll('perspective');\n\n        // Webkit's 3D transforms are passed off to the browser's own graphics renderer.\n        //   It works fine in Safari on Leopard and Snow Leopard, but not in Chrome in\n        //   some conditions. As a result, Webkit typically recognizes the syntax but\n        //   will sometimes throw a false positive, thus we must do a more thorough check:\n        if ( ret && 'webkitPerspective' in docElement.style ) {\n\n            // Webkit allows this media query to succeed only if the feature is enabled.\n            // `@media (transform-3d),(-webkit-transform-3d){ ... }`\n            injectElementWithStyles('@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}', function( node, rule ) {\n                ret = node.offsetLeft === 9 && node.offsetHeight === 3;\n            });\n        }\n        return ret;\n    };\n\n\n    tests['csstransitions'] = function() {\n        return testPropsAll('transition');\n    };\n\n\n    /*>>fontface*/\n    // @font-face detection routine by Diego Perini\n    // javascript.nwbox.com/CSSSupport/\n\n    // false positives:\n    //   WebOS github.com/Modernizr/Modernizr/issues/342\n    //   WP7   github.com/Modernizr/Modernizr/issues/538\n    tests['fontface'] = function() {\n        var bool;\n\n        injectElementWithStyles('@font-face {font-family:\"font\";src:url(\"https://\")}', function( node, rule ) {\n            var style = document.getElementById('smodernizr'),\n                sheet = style.sheet || style.styleSheet,\n                cssText = sheet ? (sheet.cssRules && sheet.cssRules[0] ? sheet.cssRules[0].cssText : sheet.cssText || '') : '';\n\n            bool = /src/i.test(cssText) && cssText.indexOf(rule.split(' ')[0]) === 0;\n        });\n\n        return bool;\n    };\n    /*>>fontface*/\n\n    // CSS generated content detection\n    tests['generatedcontent'] = function() {\n        var bool;\n\n        injectElementWithStyles(['#modernizr:after{content:\"',smile,'\";visibility:hidden}'].join(''), function( node ) {\n            bool = node.offsetHeight >= 1;\n        });\n\n        return bool;\n    };\n\n\n\n    // These tests evaluate support of the video/audio elements, as well as\n    // testing what types of content they support.\n    //\n    // We're using the Boolean constructor here, so that we can extend the value\n    // e.g.  Modernizr.video     // true\n    //       Modernizr.video.ogg // 'probably'\n    //\n    // Codec values from : github.com/NielsLeenheer/html5test/blob/9106a8/index.html#L845\n    //                     thx to NielsLeenheer and zcorpan\n\n    // Note: in some older browsers, \"no\" was a return value instead of empty string.\n    //   It was live in FF3.5.0 and 3.5.1, but fixed in 3.5.2\n    //   It was also live in Safari 4.0.0 - 4.0.4, but fixed in 4.0.5\n\n    tests['video'] = function() {\n        var elem = document.createElement('video'),\n            bool = false;\n\n        // IE9 Running on Windows Server SKU can cause an exception to be thrown, bug #224\n        try {\n            if ( bool = !!elem.canPlayType ) {\n                bool      = new Boolean(bool);\n                bool.ogg  = elem.canPlayType('video/ogg; codecs=\"theora\"')      .replace(/^no$/,'');\n\n                // Without QuickTime, this value will be `undefined`. github.com/Modernizr/Modernizr/issues/546\n                bool.h264 = elem.canPlayType('video/mp4; codecs=\"avc1.42E01E\"') .replace(/^no$/,'');\n\n                bool.webm = elem.canPlayType('video/webm; codecs=\"vp8, vorbis\"').replace(/^no$/,'');\n            }\n\n        } catch(e) { }\n\n        return bool;\n    };\n\n    tests['audio'] = function() {\n        var elem = document.createElement('audio'),\n            bool = false;\n\n        try {\n            if ( bool = !!elem.canPlayType ) {\n                bool      = new Boolean(bool);\n                bool.ogg  = elem.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,'');\n                bool.mp3  = elem.canPlayType('audio/mpeg;')               .replace(/^no$/,'');\n\n                // Mimetypes accepted:\n                //   developer.mozilla.org/En/Media_formats_supported_by_the_audio_and_video_elements\n                //   bit.ly/iphoneoscodecs\n                bool.wav  = elem.canPlayType('audio/wav; codecs=\"1\"')     .replace(/^no$/,'');\n                bool.m4a  = ( elem.canPlayType('audio/x-m4a;')            ||\n                    elem.canPlayType('audio/aac;'))             .replace(/^no$/,'');\n            }\n        } catch(e) { }\n\n        return bool;\n    };\n\n\n    // In FF4, if disabled, window.localStorage should === null.\n\n    // Normally, we could not test that directly and need to do a\n    //   `('localStorage' in window) && ` test first because otherwise Firefox will\n    //   throw bugzil.la/365772 if cookies are disabled\n\n    // Also in iOS5 Private Browsing mode, attempting to use localStorage.setItem\n    // will throw the exception:\n    //   QUOTA_EXCEEDED_ERRROR DOM Exception 22.\n    // Peculiarly, getItem and removeItem calls do not throw.\n\n    // Because we are forced to try/catch this, we'll go aggressive.\n\n    // Just FWIW: IE8 Compat mode supports these features completely:\n    //   www.quirksmode.org/dom/html5.html\n    // But IE8 doesn't support either with local files\n\n    tests['localstorage'] = function() {\n        try {\n            localStorage.setItem(mod, mod);\n            localStorage.removeItem(mod);\n            return true;\n        } catch(e) {\n            return false;\n        }\n    };\n\n    tests['sessionstorage'] = function() {\n        try {\n            sessionStorage.setItem(mod, mod);\n            sessionStorage.removeItem(mod);\n            return true;\n        } catch(e) {\n            return false;\n        }\n    };\n\n\n    tests['webworkers'] = function() {\n        return !!window.Worker;\n    };\n\n\n    tests['applicationcache'] = function() {\n        return !!window.applicationCache;\n    };\n\n\n    // Thanks to Erik Dahlstrom\n    tests['svg'] = function() {\n        return !!document.createElementNS && !!document.createElementNS(ns.svg, 'svg').createSVGRect;\n    };\n\n    // specifically for SVG inline in HTML, not within XHTML\n    // test page: paulirish.com/demo/inline-svg\n    tests['inlinesvg'] = function() {\n        var div = document.createElement('div');\n        div.innerHTML = '<svg/>';\n        return (div.firstChild && div.firstChild.namespaceURI) == ns.svg;\n    };\n\n    // SVG SMIL animation\n    tests['smil'] = function() {\n        return !!document.createElementNS && /SVGAnimate/.test(toString.call(document.createElementNS(ns.svg, 'animate')));\n    };\n\n    // This test is only for clip paths in SVG proper, not clip paths on HTML content\n    // demo: srufaculty.sru.edu/david.dailey/svg/newstuff/clipPath4.svg\n\n    // However read the comments to dig into applying SVG clippaths to HTML content here:\n    //   github.com/Modernizr/Modernizr/issues/213#issuecomment-1149491\n    tests['svgclippaths'] = function() {\n        return !!document.createElementNS && /SVGClipPath/.test(toString.call(document.createElementNS(ns.svg, 'clipPath')));\n    };\n\n    /*>>webforms*/\n    // input features and input types go directly onto the ret object, bypassing the tests loop.\n    // Hold this guy to execute in a moment.\n    function webforms() {\n        /*>>input*/\n        // Run through HTML5's new input attributes to see if the UA understands any.\n        // We're using f which is the <input> element created early on\n        // Mike Taylr has created a comprehensive resource for testing these attributes\n        //   when applied to all input types:\n        //   miketaylr.com/code/input-type-attr.html\n        // spec: www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#input-type-attr-summary\n\n        // Only input placeholder is tested while textarea's placeholder is not.\n        // Currently Safari 4 and Opera 11 have support only for the input placeholder\n        // Both tests are available in feature-detects/forms-placeholder.js\n        Modernizr['input'] = (function( props ) {\n            for ( var i = 0, len = props.length; i < len; i++ ) {\n                attrs[ props[i] ] = !!(props[i] in inputElem);\n            }\n            if (attrs.list){\n                // safari false positive's on datalist: webk.it/74252\n                // see also github.com/Modernizr/Modernizr/issues/146\n                attrs.list = !!(document.createElement('datalist') && window.HTMLDataListElement);\n            }\n            return attrs;\n        })('autocomplete autofocus list placeholder max min multiple pattern required step'.split(' '));\n        /*>>input*/\n\n        /*>>inputtypes*/\n        // Run through HTML5's new input types to see if the UA understands any.\n        //   This is put behind the tests runloop because it doesn't return a\n        //   true/false like all the other tests; instead, it returns an object\n        //   containing each input type with its corresponding true/false value\n\n        // Big thanks to @miketaylr for the html5 forms expertise. miketaylr.com/\n        Modernizr['inputtypes'] = (function(props) {\n\n            for ( var i = 0, bool, inputElemType, defaultView, len = props.length; i < len; i++ ) {\n\n                inputElem.setAttribute('type', inputElemType = props[i]);\n                bool = inputElem.type !== 'text';\n\n                // We first check to see if the type we give it sticks..\n                // If the type does, we feed it a textual value, which shouldn't be valid.\n                // If the value doesn't stick, we know there's input sanitization which infers a custom UI\n                if ( bool ) {\n\n                    inputElem.value         = smile;\n                    inputElem.style.cssText = 'position:absolute;visibility:hidden;';\n\n                    if ( /^range$/.test(inputElemType) && inputElem.style.WebkitAppearance !== undefined ) {\n\n                        docElement.appendChild(inputElem);\n                        defaultView = document.defaultView;\n\n                        // Safari 2-4 allows the smiley as a value, despite making a slider\n                        bool =  defaultView.getComputedStyle &&\n                            defaultView.getComputedStyle(inputElem, null).WebkitAppearance !== 'textfield' &&\n                            // Mobile android web browser has false positive, so must\n                            // check the height to see if the widget is actually there.\n                            (inputElem.offsetHeight !== 0);\n\n                        docElement.removeChild(inputElem);\n\n                    } else if ( /^(search|tel)$/.test(inputElemType) ){\n                        // Spec doesn't define any special parsing or detectable UI\n                        //   behaviors so we pass these through as true\n\n                        // Interestingly, opera fails the earlier test, so it doesn't\n                        //  even make it here.\n\n                    } else if ( /^(url|email)$/.test(inputElemType) ) {\n                        // Real url and email support comes with prebaked validation.\n                        bool = inputElem.checkValidity && inputElem.checkValidity() === false;\n\n                    } else {\n                        // If the upgraded input compontent rejects the :) text, we got a winner\n                        bool = inputElem.value != smile;\n                    }\n                }\n\n                inputs[ props[i] ] = !!bool;\n            }\n            return inputs;\n        })('search tel url email datetime date month week time datetime-local number range color'.split(' '));\n        /*>>inputtypes*/\n    }\n    /*>>webforms*/\n\n\n    // End of test definitions\n    // -----------------------\n\n\n\n    // Run through all tests and detect their support in the current UA.\n    // todo: hypothetically we could be doing an array of tests and use a basic loop here.\n    for ( var feature in tests ) {\n        if ( hasOwnProp(tests, feature) ) {\n            // run the test, throw the return value into the Modernizr,\n            //   then based on that boolean, define an appropriate className\n            //   and push it into an array of classes we'll join later.\n            featureName  = feature.toLowerCase();\n            Modernizr[featureName] = tests[feature]();\n\n            classes.push((Modernizr[featureName] ? '' : 'no-') + featureName);\n        }\n    }\n\n    /*>>webforms*/\n    // input tests need to run.\n    Modernizr.input || webforms();\n    /*>>webforms*/\n\n\n    /**\n     * addTest allows the user to define their own feature tests\n     * the result will be added onto the Modernizr object,\n     * as well as an appropriate className set on the html element\n     *\n     * @param feature - String naming the feature\n     * @param test - Function returning true if feature is supported, false if not\n     */\n    Modernizr.addTest = function ( feature, test ) {\n        if ( typeof feature == 'object' ) {\n            for ( var key in feature ) {\n                if ( hasOwnProp( feature, key ) ) {\n                    Modernizr.addTest( key, feature[ key ] );\n                }\n            }\n        } else {\n\n            feature = feature.toLowerCase();\n\n            if ( Modernizr[feature] !== undefined ) {\n                // we're going to quit if you're trying to overwrite an existing test\n                // if we were to allow it, we'd do this:\n                //   var re = new RegExp(\"\\\\b(no-)?\" + feature + \"\\\\b\");\n                //   docElement.className = docElement.className.replace( re, '' );\n                // but, no rly, stuff 'em.\n                return Modernizr;\n            }\n\n            test = typeof test == 'function' ? test() : test;\n\n            if (enableClasses) {\n                docElement.className += ' ' + (test ? '' : 'no-') + feature;\n            }\n            Modernizr[feature] = test;\n\n        }\n\n        return Modernizr; // allow chaining.\n    };\n\n\n    // Reset modElem.cssText to nothing to reduce memory footprint.\n    setCss('');\n    modElem = inputElem = null;\n\n    /*>>shiv*/\n    /*! HTML5 Shiv v3.6 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed */\n    ;(function(window, document) {\n        /*jshint evil:true */\n        /** Preset options */\n        var options = window.html5 || {};\n\n        /** Used to skip problem elements */\n        var reSkip = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;\n\n        /** Not all elements can be cloned in IE (this list can be shortend) **/\n        var saveClones = /^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i;\n\n        /** Detect whether the browser supports default html5 styles */\n        var supportsHtml5Styles;\n\n        /** Name of the expando, to work with multiple documents or to re-shiv one document */\n        var expando = '_html5shiv';\n\n        /** The id for the the documents expando */\n        var expanID = 0;\n\n        /** Cached data for each document */\n        var expandoData = {};\n\n        /** Detect whether the browser supports unknown elements */\n        var supportsUnknownElements;\n\n        (function() {\n            try {\n                var a = document.createElement('a');\n                a.innerHTML = '<xyz></xyz>';\n                //if the hidden property is implemented we can assume, that the browser supports basic HTML5 Styles\n                supportsHtml5Styles = ('hidden' in a);\n\n                supportsUnknownElements = a.childNodes.length == 1 || (function() {\n                    // assign a false positive if unable to shiv\n                    (document.createElement)('a');\n                    var frag = document.createDocumentFragment();\n                    return (\n                        typeof frag.cloneNode == 'undefined' ||\n                            typeof frag.createDocumentFragment == 'undefined' ||\n                            typeof frag.createElement == 'undefined'\n                        );\n                }());\n            } catch(e) {\n                supportsHtml5Styles = true;\n                supportsUnknownElements = true;\n            }\n\n        }());\n\n        /*--------------------------------------------------------------------------*/\n\n        /**\n         * Creates a style sheet with the given CSS text and adds it to the document.\n         * @private\n         * @param {Document} ownerDocument The document.\n         * @param {String} cssText The CSS text.\n         * @returns {StyleSheet} The style element.\n         */\n        function addStyleSheet(ownerDocument, cssText) {\n            var p = ownerDocument.createElement('p'),\n                parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement;\n\n            p.innerHTML = 'x<style>' + cssText + '</style>';\n            return parent.insertBefore(p.lastChild, parent.firstChild);\n        }\n\n        /**\n         * Returns the value of `html5.elements` as an array.\n         * @private\n         * @returns {Array} An array of shived element node names.\n         */\n        function getElements() {\n            var elements = html5.elements;\n            return typeof elements == 'string' ? elements.split(' ') : elements;\n        }\n\n        /**\n         * Returns the data associated to the given document\n         * @private\n         * @param {Document} ownerDocument The document.\n         * @returns {Object} An object of data.\n         */\n        function getExpandoData(ownerDocument) {\n            var data = expandoData[ownerDocument[expando]];\n            if (!data) {\n                data = {};\n                expanID++;\n                ownerDocument[expando] = expanID;\n                expandoData[expanID] = data;\n            }\n            return data;\n        }\n\n        /**\n         * returns a shived element for the given nodeName and document\n         * @memberOf html5\n         * @param {String} nodeName name of the element\n         * @param {Document} ownerDocument The context document.\n         * @returns {Object} The shived element.\n         */\n        function createElement(nodeName, ownerDocument, data){\n            if (!ownerDocument) {\n                ownerDocument = document;\n            }\n            if(supportsUnknownElements){\n                return ownerDocument.createElement(nodeName);\n            }\n            if (!data) {\n                data = getExpandoData(ownerDocument);\n            }\n            var node;\n\n            if (data.cache[nodeName]) {\n                node = data.cache[nodeName].cloneNode();\n            } else if (saveClones.test(nodeName)) {\n                node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode();\n            } else {\n                node = data.createElem(nodeName);\n            }\n\n            // Avoid adding some elements to fragments in IE < 9 because\n            // * Attributes like `name` or `type` cannot be set/changed once an element\n            //   is inserted into a document/fragment\n            // * Link elements with `src` attributes that are inaccessible, as with\n            //   a 403 response, will cause the tab/window to crash\n            // * Script elements appended to fragments will execute when their `src`\n            //   or `text` property is set\n            return node.canHaveChildren && !reSkip.test(nodeName) ? data.frag.appendChild(node) : node;\n        }\n\n        /**\n         * returns a shived DocumentFragment for the given document\n         * @memberOf html5\n         * @param {Document} ownerDocument The context document.\n         * @returns {Object} The shived DocumentFragment.\n         */\n        function createDocumentFragment(ownerDocument, data){\n            if (!ownerDocument) {\n                ownerDocument = document;\n            }\n            if(supportsUnknownElements){\n                return ownerDocument.createDocumentFragment();\n            }\n            data = data || getExpandoData(ownerDocument);\n            var clone = data.frag.cloneNode(),\n                i = 0,\n                elems = getElements(),\n                l = elems.length;\n            for(;i<l;i++){\n                clone.createElement(elems[i]);\n            }\n            return clone;\n        }\n\n        /**\n         * Shivs the `createElement` and `createDocumentFragment` methods of the document.\n         * @private\n         * @param {Document|DocumentFragment} ownerDocument The document.\n         * @param {Object} data of the document.\n         */\n        function shivMethods(ownerDocument, data) {\n            if (!data.cache) {\n                data.cache = {};\n                data.createElem = ownerDocument.createElement;\n                data.createFrag = ownerDocument.createDocumentFragment;\n                data.frag = data.createFrag();\n            }\n\n\n            ownerDocument.createElement = function(nodeName) {\n                //abort shiv\n                if (!html5.shivMethods) {\n                    return data.createElem(nodeName);\n                }\n                return createElement(nodeName, ownerDocument, data);\n            };\n\n            ownerDocument.createDocumentFragment = Function('h,f', 'return function(){' +\n                'var n=f.cloneNode(),c=n.createElement;' +\n                'h.shivMethods&&(' +\n                // unroll the `createElement` calls\n                getElements().join().replace(/\\w+/g, function(nodeName) {\n                    data.createElem(nodeName);\n                    data.frag.createElement(nodeName);\n                    return 'c(\"' + nodeName + '\")';\n                }) +\n                ');return n}'\n            )(html5, data.frag);\n        }\n\n        /*--------------------------------------------------------------------------*/\n\n        /**\n         * Shivs the given document.\n         * @memberOf html5\n         * @param {Document} ownerDocument The document to shiv.\n         * @returns {Document} The shived document.\n         */\n        function shivDocument(ownerDocument) {\n            if (!ownerDocument) {\n                ownerDocument = document;\n            }\n            var data = getExpandoData(ownerDocument);\n\n            if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {\n                data.hasCSS = !!addStyleSheet(ownerDocument,\n                    // corrects block display not defined in IE6/7/8/9\n                    'article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}' +\n                        // adds styling not present in IE6/7/8/9\n                        'mark{background:#FF0;color:#000}'\n                );\n            }\n            if (!supportsUnknownElements) {\n                shivMethods(ownerDocument, data);\n            }\n            return ownerDocument;\n        }\n\n        /*--------------------------------------------------------------------------*/\n\n        /**\n         * The `html5` object is exposed so that more elements can be shived and\n         * existing shiving can be detected on iframes.\n         * @type Object\n         * @example\n         *\n         * // options can be changed before the script is included\n         * html5 = { 'elements': 'mark section', 'shivCSS': false, 'shivMethods': false };\n         */\n        var html5 = {\n\n            /**\n             * An array or space separated string of node names of the elements to shiv.\n             * @memberOf html5\n             * @type Array|String\n             */\n            'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video',\n\n            /**\n             * A flag to indicate that the HTML5 style sheet should be inserted.\n             * @memberOf html5\n             * @type Boolean\n             */\n            'shivCSS': (options.shivCSS !== false),\n\n            /**\n             * Is equal to true if a browser supports creating unknown/HTML5 elements\n             * @memberOf html5\n             * @type boolean\n             */\n            'supportsUnknownElements': supportsUnknownElements,\n\n            /**\n             * A flag to indicate that the document's `createElement` and `createDocumentFragment`\n             * methods should be overwritten.\n             * @memberOf html5\n             * @type Boolean\n             */\n            'shivMethods': (options.shivMethods !== false),\n\n            /**\n             * A string to describe the type of `html5` object (\"default\" or \"default print\").\n             * @memberOf html5\n             * @type String\n             */\n            'type': 'default',\n\n            // shivs the document according to the specified `html5` object options\n            'shivDocument': shivDocument,\n\n            //creates a shived element\n            createElement: createElement,\n\n            //creates a shived documentFragment\n            createDocumentFragment: createDocumentFragment\n        };\n\n        /*--------------------------------------------------------------------------*/\n\n        // expose html5\n        window.html5 = html5;\n\n        // shiv the document\n        shivDocument(document);\n\n    }(this, document));\n    /*>>shiv*/\n\n    // Assign private properties to the return object with prefix\n    Modernizr._version      = version;\n\n    // expose these for the plugin API. Look in the source for how to join() them against your input\n    /*>>prefixes*/\n    Modernizr._prefixes     = prefixes;\n    /*>>prefixes*/\n    /*>>domprefixes*/\n    Modernizr._domPrefixes  = domPrefixes;\n    Modernizr._cssomPrefixes  = cssomPrefixes;\n    /*>>domprefixes*/\n\n    /*>>mq*/\n    // Modernizr.mq tests a given media query, live against the current state of the window\n    // A few important notes:\n    //   * If a browser does not support media queries at all (eg. oldIE) the mq() will always return false\n    //   * A max-width or orientation query will be evaluated against the current state, which may change later.\n    //   * You must specify values. Eg. If you are testing support for the min-width media query use:\n    //       Modernizr.mq('(min-width:0)')\n    // usage:\n    // Modernizr.mq('only screen and (max-width:768)')\n    Modernizr.mq            = testMediaQuery;\n    /*>>mq*/\n\n    /*>>hasevent*/\n    // Modernizr.hasEvent() detects support for a given event, with an optional element to test on\n    // Modernizr.hasEvent('gesturestart', elem)\n    Modernizr.hasEvent      = isEventSupported;\n    /*>>hasevent*/\n\n    /*>>testprop*/\n    // Modernizr.testProp() investigates whether a given style property is recognized\n    // Note that the property names must be provided in the camelCase variant.\n    // Modernizr.testProp('pointerEvents')\n    Modernizr.testProp      = function(prop){\n        return testProps([prop]);\n    };\n    /*>>testprop*/\n\n    /*>>testallprops*/\n    // Modernizr.testAllProps() investigates whether a given style property,\n    //   or any of its vendor-prefixed variants, is recognized\n    // Note that the property names must be provided in the camelCase variant.\n    // Modernizr.testAllProps('boxSizing')\n    Modernizr.testAllProps  = testPropsAll;\n    /*>>testallprops*/\n\n\n    /*>>teststyles*/\n    // Modernizr.testStyles() allows you to add custom styles to the document and test an element afterwards\n    // Modernizr.testStyles('#modernizr { position:absolute }', function(elem, rule){ ... })\n    Modernizr.testStyles    = injectElementWithStyles;\n    /*>>teststyles*/\n\n\n    /*>>prefixed*/\n    // Modernizr.prefixed() returns the prefixed or nonprefixed property name variant of your input\n    // Modernizr.prefixed('boxSizing') // 'MozBoxSizing'\n\n    // Properties must be passed as dom-style camelcase, rather than `box-sizing` hypentated style.\n    // Return values will also be the camelCase variant, if you need to translate that to hypenated style use:\n    //\n    //     str.replace(/([A-Z])/g, function(str,m1){ return '-' + m1.toLowerCase(); }).replace(/^ms-/,'-ms-');\n\n    // If you're trying to ascertain which transition end event to bind to, you might do something like...\n    //\n    //     var transEndEventNames = {\n    //       'WebkitTransition' : 'webkitTransitionEnd',\n    //       'MozTransition'    : 'transitionend',\n    //       'OTransition'      : 'oTransitionEnd',\n    //       'msTransition'     : 'MSTransitionEnd',\n    //       'transition'       : 'transitionend'\n    //     },\n    //     transEndEventName = transEndEventNames[ Modernizr.prefixed('transition') ];\n\n    Modernizr.prefixed      = function(prop, obj, elem){\n        if(!obj) {\n            return testPropsAll(prop, 'pfx');\n        } else {\n            // Testing DOM property e.g. Modernizr.prefixed('requestAnimationFrame', window) // 'mozRequestAnimationFrame'\n            return testPropsAll(prop, obj, elem);\n        }\n    };\n    /*>>prefixed*/\n\n\n    /*>>cssclasses*/\n    // Remove \"no-js\" class from <html> element, if it exists:\n    docElement.className = docElement.className.replace(/(^|\\s)no-js(\\s|$)/, '$1$2') +\n\n        // Add the new classes to the <html> element.\n        (enableClasses ? ' js ' + classes.join(' ') : '');\n    /*>>cssclasses*/\n\n    return Modernizr;\n\n})(this, this.document);","modernizr/modernizr.details.js":"// By @mathias, based on http://mths.be/axh\ndefine([\n    'modernizr/modernizr'\n], function(){\n\n    Modernizr.addTest('details', function() {\n        var doc = document,\n            el = doc.createElement('details'),\n            fake,\n            root,\n            diff;\n        if (!('open' in el)) { // return early if possible; thanks @aFarkas!\n            return false;\n        }\n        root = doc.body || (function() {\n            var de = doc.documentElement;\n            fake = true;\n            return de.insertBefore(doc.createElement('body'), de.firstElementChild || de.firstChild);\n        }());\n        el.innerHTML = '<summary>a</summary>b';\n        el.style.display = 'block';\n        root.appendChild(el);\n        diff = el.offsetHeight;\n        el.open = true;\n        diff = diff != el.offsetHeight;\n        root.removeChild(el);\n        fake && root.parentNode.removeChild(root);\n        return diff;\n    });\n\n});","modernizr/modernizr.2.0.6.js":"/* Modernizr 2.0.6 (Custom Build) | MIT & BSD\n * Build: http://www.modernizr.com/download/#-csstransforms-csstransforms3d-cssclasses-prefixed-teststyles-testprop-testallprops-prefixes-domprefixes\n */\n;window.Modernizr=function(a,b,c){function C(a,b){var c=a.charAt(0).toUpperCase()+a.substr(1),d=(a+\" \"+o.join(c+\" \")+c).split(\" \");return B(d,b)}function B(a,b){for(var d in a)if(k[a[d]]!==c)return b==\"pfx\"?a[d]:!0;return!1}function A(a,b){return!!~(\"\"+a).indexOf(b)}function z(a,b){return typeof a===b}function y(a,b){return x(n.join(a+\";\")+(b||\"\"))}function x(a){k.cssText=a}var d=\"2.0.6\",e={},f=!0,g=b.documentElement,h=b.head||b.getElementsByTagName(\"head\")[0],i=\"modernizr\",j=b.createElement(i),k=j.style,l,m=Object.prototype.toString,n=\" -webkit- -moz- -o- -ms- -khtml- \".split(\" \"),o=\"Webkit Moz O ms Khtml\".split(\" \"),p={},q={},r={},s=[],t=function(a,c,d,e){var f,h,j,k=b.createElement(\"div\");if(parseInt(d,10))while(d--)j=b.createElement(\"div\"),j.id=e?e[d]:i+(d+1),k.appendChild(j);f=[\"&shy;\",\"<style>\",a,\"</style>\"].join(\"\"),k.id=i,k.innerHTML+=f,g.appendChild(k),h=c(k,a),k.parentNode.removeChild(k);return!!h},u,v={}.hasOwnProperty,w;!z(v,c)&&!z(v.call,c)?w=function(a,b){return v.call(a,b)}:w=function(a,b){return b in a&&z(a.constructor.prototype[b],c)};var D=function(a,c){var d=a.join(\"\"),f=c.length;t(d,function(a,c){var d=b.styleSheets[b.styleSheets.length-1],g=d.cssRules&&d.cssRules[0]?d.cssRules[0].cssText:d.cssText||\"\",h=a.childNodes,i={};while(f--)i[h[f].id]=h[f];e.csstransforms3d=i.csstransforms3d.offsetLeft===9},f,c)}([,[\"@media (\",n.join(\"transform-3d),(\"),i,\")\",\"{#csstransforms3d{left:9px;position:absolute}}\"].join(\"\")],[,\"csstransforms3d\"]);p.csstransforms=function(){return!!B([\"transformProperty\",\"WebkitTransform\",\"MozTransform\",\"OTransform\",\"msTransform\"])},p.csstransforms3d=function(){var a=!!B([\"perspectiveProperty\",\"WebkitPerspective\",\"MozPerspective\",\"OPerspective\",\"msPerspective\"]);a&&\"webkitPerspective\"in g.style&&(a=e.csstransforms3d);return a};for(var E in p)w(p,E)&&(u=E.toLowerCase(),e[u]=p[E](),s.push((e[u]?\"\":\"no-\")+u));x(\"\"),j=l=null,e._version=d,e._prefixes=n,e._domPrefixes=o,e.testProp=function(a){return B([a])},e.testAllProps=C,e.testStyles=t,e.prefixed=function(a){return C(a,\"pfx\")},g.className=g.className.replace(/\\bno-js\\b/,\"\")+(f?\" js \"+s.join(\" \"):\"\");return e}(this,this.document);"}
    }
});
require.config({
    bundles: {
        'mage/requirejs/static': [
            'jsbuild',
            'buildTools',
            'text',
            'statistician'
        ]
    },
    deps: [
        'jsbuild'
    ]
});
